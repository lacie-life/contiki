                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.0.0 #11528 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module process
                                      6 	.optsdcc -mmcs51 --model-large
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _process_current
                                     12 	.globl _process_list
                                     13 	.globl _process_alloc_event
                                     14 	.globl _process_start
                                     15 	.globl _process_exit
                                     16 	.globl _process_init
                                     17 	.globl _process_run
                                     18 	.globl _process_nevents
                                     19 	.globl _process_post
                                     20 	.globl _process_post_synch
                                     21 	.globl _process_poll
                                     22 	.globl _process_is_running
                                     23 ;--------------------------------------------------------
                                     24 ; special function registers
                                     25 ;--------------------------------------------------------
                                     26 	.area RSEG    (ABS,DATA)
      000000                         27 	.org 0x0000
                                     28 ;--------------------------------------------------------
                                     29 ; special function bits
                                     30 ;--------------------------------------------------------
                                     31 	.area RSEG    (ABS,DATA)
      000000                         32 	.org 0x0000
                                     33 ;--------------------------------------------------------
                                     34 ; overlayable register banks
                                     35 ;--------------------------------------------------------
                                     36 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         37 	.ds 8
                                     38 ;--------------------------------------------------------
                                     39 ; overlayable bit register bank
                                     40 ;--------------------------------------------------------
                                     41 	.area BIT_BANK	(REL,OVR,DATA)
      000000                         42 bits:
      000000                         43 	.ds 1
                           008000    44 	b0 = bits[0]
                           008100    45 	b1 = bits[1]
                           008200    46 	b2 = bits[2]
                           008300    47 	b3 = bits[3]
                           008400    48 	b4 = bits[4]
                           008500    49 	b5 = bits[5]
                           008600    50 	b6 = bits[6]
                           008700    51 	b7 = bits[7]
                                     52 ;--------------------------------------------------------
                                     53 ; internal ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area DSEG    (DATA)
                                     56 ;--------------------------------------------------------
                                     57 ; overlayable items in internal ram 
                                     58 ;--------------------------------------------------------
                                     59 ;--------------------------------------------------------
                                     60 ; indirectly addressable internal ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area ISEG    (DATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute internal ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area IABS    (ABS,DATA)
                                     67 	.area IABS    (ABS,DATA)
                                     68 ;--------------------------------------------------------
                                     69 ; bit data
                                     70 ;--------------------------------------------------------
                                     71 	.area BSEG    (BIT)
                                     72 ;--------------------------------------------------------
                                     73 ; paged external ram data
                                     74 ;--------------------------------------------------------
                                     75 	.area PSEG    (PAG,XDATA)
                                     76 ;--------------------------------------------------------
                                     77 ; external ram data
                                     78 ;--------------------------------------------------------
                                     79 	.area XSEG    (XDATA)
      000000                         80 _lastevent:
      000000                         81 	.ds 1
      000001                         82 _nevents:
      000001                         83 	.ds 1
      000002                         84 _fevent:
      000002                         85 	.ds 1
      000003                         86 _events:
      000003                         87 	.ds 224
      0000E3                         88 _poll_requested:
      0000E3                         89 	.ds 1
      0000E4                         90 _do_event_ev_65536_94:
      0000E4                         91 	.ds 1
      0000E5                         92 _do_event_data_65536_94:
      0000E5                         93 	.ds 3
      0000E8                         94 _do_event_receiver_65536_94:
      0000E8                         95 	.ds 3
      0000EB                         96 _do_event_p_65536_94:
      0000EB                         97 	.ds 3
      0000EE                         98 _process_post_snum_65536_108:
      0000EE                         99 	.ds 1
                                    100 ;--------------------------------------------------------
                                    101 ; absolute external ram data
                                    102 ;--------------------------------------------------------
                                    103 	.area XABS    (ABS,XDATA)
                                    104 ;--------------------------------------------------------
                                    105 ; external initialized ram data
                                    106 ;--------------------------------------------------------
                                    107 	.area XISEG   (XDATA)
      000000                        108 _process_list::
      000000                        109 	.ds 3
      000003                        110 _process_current::
      000003                        111 	.ds 3
                                    112 	.area HOME    (CODE)
                                    113 	.area GSINIT0 (CODE)
                                    114 	.area GSINIT1 (CODE)
                                    115 	.area GSINIT2 (CODE)
                                    116 	.area GSINIT3 (CODE)
                                    117 	.area GSINIT4 (CODE)
                                    118 	.area GSINIT5 (CODE)
                                    119 	.area GSINIT  (CODE)
                                    120 	.area GSFINAL (CODE)
                                    121 	.area CSEG    (CODE)
                                    122 ;--------------------------------------------------------
                                    123 ; global & static initialisations
                                    124 ;--------------------------------------------------------
                                    125 	.area HOME    (CODE)
                                    126 	.area GSINIT  (CODE)
                                    127 	.area GSFINAL (CODE)
                                    128 	.area GSINIT  (CODE)
                                    129 ;--------------------------------------------------------
                                    130 ; Home
                                    131 ;--------------------------------------------------------
                                    132 	.area HOME    (CODE)
                                    133 	.area HOME    (CODE)
                                    134 ;--------------------------------------------------------
                                    135 ; code
                                    136 ;--------------------------------------------------------
                                    137 	.area CSEG    (CODE)
                                    138 ;------------------------------------------------------------
                                    139 ;Allocation info for local variables in function 'process_alloc_event'
                                    140 ;------------------------------------------------------------
                                    141 ;	../../core/sys/process.c:93: process_alloc_event(void)
                                    142 ;	-----------------------------------------
                                    143 ;	 function process_alloc_event
                                    144 ;	-----------------------------------------
      000000                        145 _process_alloc_event:
                           000007   146 	ar7 = 0x07
                           000006   147 	ar6 = 0x06
                           000005   148 	ar5 = 0x05
                           000004   149 	ar4 = 0x04
                           000003   150 	ar3 = 0x03
                           000002   151 	ar2 = 0x02
                           000001   152 	ar1 = 0x01
                           000000   153 	ar0 = 0x00
                                    154 ;	../../core/sys/process.c:95: return lastevent++;
      000000 90r00r00         [24]  155 	mov	dptr,#_lastevent
      000003 E0               [24]  156 	movx	a,@dptr
      000004 FF               [12]  157 	mov	r7,a
      000005 04               [12]  158 	inc	a
      000006 F0               [24]  159 	movx	@dptr,a
      000007 8F 82            [24]  160 	mov	dpl,r7
                                    161 ;	../../core/sys/process.c:96: }
      000009 22               [24]  162 	ret
                                    163 ;------------------------------------------------------------
                                    164 ;Allocation info for local variables in function 'process_start'
                                    165 ;------------------------------------------------------------
                                    166 ;arg                       Allocated to stack - sp -7
                                    167 ;p                         Allocated to stack - sp -2
                                    168 ;q                         Allocated to registers r5 r6 r7 
                                    169 ;------------------------------------------------------------
                                    170 ;	../../core/sys/process.c:99: process_start(struct process *p, const char *arg)
                                    171 ;	-----------------------------------------
                                    172 ;	 function process_start
                                    173 ;	-----------------------------------------
      00000A                        174 _process_start:
      00000A C0 82            [24]  175 	push	dpl
      00000C C0 83            [24]  176 	push	dph
      00000E C0 F0            [24]  177 	push	b
                                    178 ;	../../core/sys/process.c:105: for(q = process_list; q != p && q != NULL; q = q->next);
      000010 90r00r00         [24]  179 	mov	dptr,#_process_list
      000013 E0               [24]  180 	movx	a,@dptr
      000014 FA               [12]  181 	mov	r2,a
      000015 A3               [24]  182 	inc	dptr
      000016 E0               [24]  183 	movx	a,@dptr
      000017 FB               [12]  184 	mov	r3,a
      000018 A3               [24]  185 	inc	dptr
      000019 E0               [24]  186 	movx	a,@dptr
      00001A FC               [12]  187 	mov	r4,a
      00001B 8A 05            [24]  188 	mov	ar5,r2
      00001D 8B 06            [24]  189 	mov	ar6,r3
      00001F 8C 07            [24]  190 	mov	ar7,r4
      000021                        191 00106$:
      000021 A8 81            [24]  192 	mov	r0,sp
      000023 18               [12]  193 	dec	r0
      000024 18               [12]  194 	dec	r0
      000025 C0 05            [24]  195 	push	ar5
      000027 C0 06            [24]  196 	push	ar6
      000029 C0 07            [24]  197 	push	ar7
      00002B 86 82            [24]  198 	mov	dpl,@r0
      00002D 08               [12]  199 	inc	r0
      00002E 86 83            [24]  200 	mov	dph,@r0
      000030 08               [12]  201 	inc	r0
      000031 86 F0            [24]  202 	mov	b,@r0
      000033 12r00r00         [24]  203 	lcall	___gptr_cmp
      000036 15 81            [12]  204 	dec	sp
      000038 15 81            [12]  205 	dec	sp
      00003A 15 81            [12]  206 	dec	sp
      00003C 60 1A            [24]  207 	jz	00101$
      00003E ED               [12]  208 	mov	a,r5
      00003F 4E               [12]  209 	orl	a,r6
      000040 60 16            [24]  210 	jz	00101$
      000042 8D 82            [24]  211 	mov	dpl,r5
      000044 8E 83            [24]  212 	mov	dph,r6
      000046 8F F0            [24]  213 	mov	b,r7
      000048 12r00r00         [24]  214 	lcall	__gptrget
      00004B FD               [12]  215 	mov	r5,a
      00004C A3               [24]  216 	inc	dptr
      00004D 12r00r00         [24]  217 	lcall	__gptrget
      000050 FE               [12]  218 	mov	r6,a
      000051 A3               [24]  219 	inc	dptr
      000052 12r00r00         [24]  220 	lcall	__gptrget
      000055 FF               [12]  221 	mov	r7,a
      000056 80 C9            [24]  222 	sjmp	00106$
      000058                        223 00101$:
                                    224 ;	../../core/sys/process.c:108: if(q == p) {
      000058 A8 81            [24]  225 	mov	r0,sp
      00005A 18               [12]  226 	dec	r0
      00005B 18               [12]  227 	dec	r0
      00005C C0 05            [24]  228 	push	ar5
      00005E C0 06            [24]  229 	push	ar6
      000060 C0 07            [24]  230 	push	ar7
      000062 86 82            [24]  231 	mov	dpl,@r0
      000064 08               [12]  232 	inc	r0
      000065 86 83            [24]  233 	mov	dph,@r0
      000067 08               [12]  234 	inc	r0
      000068 86 F0            [24]  235 	mov	b,@r0
      00006A 12r00r00         [24]  236 	lcall	___gptr_cmp
      00006D 15 81            [12]  237 	dec	sp
      00006F 15 81            [12]  238 	dec	sp
      000071 15 81            [12]  239 	dec	sp
      000073 60 02            [24]  240 	jz	00129$
      000075 80 03            [24]  241 	sjmp	00103$
      000077                        242 00129$:
                                    243 ;	../../core/sys/process.c:109: return;
      000077 02r01r09         [24]  244 	ljmp	00108$
      00007A                        245 00103$:
                                    246 ;	../../core/sys/process.c:112: p->next = process_list;
      00007A A8 81            [24]  247 	mov	r0,sp
      00007C 18               [12]  248 	dec	r0
      00007D 18               [12]  249 	dec	r0
      00007E 86 82            [24]  250 	mov	dpl,@r0
      000080 08               [12]  251 	inc	r0
      000081 86 83            [24]  252 	mov	dph,@r0
      000083 08               [12]  253 	inc	r0
      000084 86 F0            [24]  254 	mov	b,@r0
      000086 EA               [12]  255 	mov	a,r2
      000087 12r00r00         [24]  256 	lcall	__gptrput
      00008A A3               [24]  257 	inc	dptr
      00008B EB               [12]  258 	mov	a,r3
      00008C 12r00r00         [24]  259 	lcall	__gptrput
      00008F A3               [24]  260 	inc	dptr
      000090 EC               [12]  261 	mov	a,r4
      000091 12r00r00         [24]  262 	lcall	__gptrput
                                    263 ;	../../core/sys/process.c:113: process_list = p;
      000094 A8 81            [24]  264 	mov	r0,sp
      000096 18               [12]  265 	dec	r0
      000097 18               [12]  266 	dec	r0
      000098 90r00r00         [24]  267 	mov	dptr,#_process_list
      00009B E6               [12]  268 	mov	a,@r0
      00009C F0               [24]  269 	movx	@dptr,a
      00009D 08               [12]  270 	inc	r0
      00009E E6               [12]  271 	mov	a,@r0
      00009F A3               [24]  272 	inc	dptr
      0000A0 F0               [24]  273 	movx	@dptr,a
      0000A1 08               [12]  274 	inc	r0
      0000A2 E6               [12]  275 	mov	a,@r0
      0000A3 A3               [24]  276 	inc	dptr
      0000A4 F0               [24]  277 	movx	@dptr,a
                                    278 ;	../../core/sys/process.c:114: p->state = PROCESS_STATE_RUNNING;
      0000A5 A8 81            [24]  279 	mov	r0,sp
      0000A7 18               [12]  280 	dec	r0
      0000A8 18               [12]  281 	dec	r0
      0000A9 74 07            [12]  282 	mov	a,#0x07
      0000AB 26               [12]  283 	add	a,@r0
      0000AC FD               [12]  284 	mov	r5,a
      0000AD E4               [12]  285 	clr	a
      0000AE 08               [12]  286 	inc	r0
      0000AF 36               [12]  287 	addc	a,@r0
      0000B0 FE               [12]  288 	mov	r6,a
      0000B1 08               [12]  289 	inc	r0
      0000B2 86 07            [24]  290 	mov	ar7,@r0
      0000B4 8D 82            [24]  291 	mov	dpl,r5
      0000B6 8E 83            [24]  292 	mov	dph,r6
      0000B8 8F F0            [24]  293 	mov	b,r7
      0000BA 74 01            [12]  294 	mov	a,#0x01
      0000BC 12r00r00         [24]  295 	lcall	__gptrput
                                    296 ;	../../core/sys/process.c:115: PT_INIT(&p->pt);
      0000BF A8 81            [24]  297 	mov	r0,sp
      0000C1 18               [12]  298 	dec	r0
      0000C2 18               [12]  299 	dec	r0
      0000C3 74 05            [12]  300 	mov	a,#0x05
      0000C5 26               [12]  301 	add	a,@r0
      0000C6 FD               [12]  302 	mov	r5,a
      0000C7 E4               [12]  303 	clr	a
      0000C8 08               [12]  304 	inc	r0
      0000C9 36               [12]  305 	addc	a,@r0
      0000CA FE               [12]  306 	mov	r6,a
      0000CB 08               [12]  307 	inc	r0
      0000CC 86 07            [24]  308 	mov	ar7,@r0
      0000CE 8D 82            [24]  309 	mov	dpl,r5
      0000D0 8E 83            [24]  310 	mov	dph,r6
      0000D2 8F F0            [24]  311 	mov	b,r7
      0000D4 E4               [12]  312 	clr	a
      0000D5 12r00r00         [24]  313 	lcall	__gptrput
      0000D8 A3               [24]  314 	inc	dptr
      0000D9 12r00r00         [24]  315 	lcall	__gptrput
                                    316 ;	../../core/sys/process.c:120: process_post_synch(p, PROCESS_EVENT_INIT, (process_data_t)arg);
      0000DC E5 81            [12]  317 	mov	a,sp
      0000DE 24 F9            [12]  318 	add	a,#0xf9
      0000E0 F8               [12]  319 	mov	r0,a
      0000E1 86 05            [24]  320 	mov	ar5,@r0
      0000E3 08               [12]  321 	inc	r0
      0000E4 86 06            [24]  322 	mov	ar6,@r0
      0000E6 08               [12]  323 	inc	r0
      0000E7 86 07            [24]  324 	mov	ar7,@r0
      0000E9 C0 05            [24]  325 	push	ar5
      0000EB C0 06            [24]  326 	push	ar6
      0000ED C0 07            [24]  327 	push	ar7
      0000EF 74 81            [12]  328 	mov	a,#0x81
      0000F1 C0 E0            [24]  329 	push	acc
      0000F3 E5 81            [12]  330 	mov	a,sp
      0000F5 24 FA            [12]  331 	add	a,#0xfa
      0000F7 F8               [12]  332 	mov	r0,a
      0000F8 86 82            [24]  333 	mov	dpl,@r0
      0000FA 08               [12]  334 	inc	r0
      0000FB 86 83            [24]  335 	mov	dph,@r0
      0000FD 08               [12]  336 	inc	r0
      0000FE 86 F0            [24]  337 	mov	b,@r0
      000100 12r08r26         [24]  338 	lcall	_process_post_synch
      000103 E5 81            [12]  339 	mov	a,sp
      000105 24 FC            [12]  340 	add	a,#0xfc
      000107 F5 81            [12]  341 	mov	sp,a
      000109                        342 00108$:
                                    343 ;	../../core/sys/process.c:121: }
      000109 15 81            [12]  344 	dec	sp
      00010B 15 81            [12]  345 	dec	sp
      00010D 15 81            [12]  346 	dec	sp
      00010F 22               [24]  347 	ret
                                    348 ;------------------------------------------------------------
                                    349 ;Allocation info for local variables in function 'exit_process'
                                    350 ;------------------------------------------------------------
                                    351 ;fromprocess               Allocated to stack - sp -13
                                    352 ;p                         Allocated to stack - sp -8
                                    353 ;q                         Allocated to registers r7 r6 r5 
                                    354 ;old_current               Allocated to stack - sp -2
                                    355 ;sloc0                     Allocated to stack - sp -5
                                    356 ;------------------------------------------------------------
                                    357 ;	../../core/sys/process.c:124: exit_process(struct process *p, struct process *fromprocess)
                                    358 ;	-----------------------------------------
                                    359 ;	 function exit_process
                                    360 ;	-----------------------------------------
      000110                        361 _exit_process:
      000110 C0 82            [24]  362 	push	dpl
      000112 C0 83            [24]  363 	push	dph
      000114 C0 F0            [24]  364 	push	b
      000116 E5 81            [12]  365 	mov	a,sp
      000118 24 06            [12]  366 	add	a,#0x06
      00011A F5 81            [12]  367 	mov	sp,a
                                    368 ;	../../core/sys/process.c:127: struct process *old_current = process_current;
      00011C 90r00r03         [24]  369 	mov	dptr,#_process_current
      00011F E0               [24]  370 	movx	a,@dptr
      000120 FA               [12]  371 	mov	r2,a
      000121 A3               [24]  372 	inc	dptr
      000122 E0               [24]  373 	movx	a,@dptr
      000123 FB               [12]  374 	mov	r3,a
      000124 A3               [24]  375 	inc	dptr
      000125 E0               [24]  376 	movx	a,@dptr
      000126 FC               [12]  377 	mov	r4,a
      000127 A8 81            [24]  378 	mov	r0,sp
      000129 18               [12]  379 	dec	r0
      00012A 18               [12]  380 	dec	r0
      00012B A6 02            [24]  381 	mov	@r0,ar2
      00012D 08               [12]  382 	inc	r0
      00012E A6 03            [24]  383 	mov	@r0,ar3
      000130 08               [12]  384 	inc	r0
      000131 A6 04            [24]  385 	mov	@r0,ar4
                                    386 ;	../../core/sys/process.c:133: for(q = process_list; q != p && q != NULL; q = q->next);
      000133 90r00r00         [24]  387 	mov	dptr,#_process_list
      000136 E0               [24]  388 	movx	a,@dptr
      000137 FA               [12]  389 	mov	r2,a
      000138 A3               [24]  390 	inc	dptr
      000139 E0               [24]  391 	movx	a,@dptr
      00013A FB               [12]  392 	mov	r3,a
      00013B A3               [24]  393 	inc	dptr
      00013C E0               [24]  394 	movx	a,@dptr
      00013D FC               [12]  395 	mov	r4,a
      00013E                        396 00120$:
      00013E E5 81            [12]  397 	mov	a,sp
      000140 24 F8            [12]  398 	add	a,#0xf8
      000142 F8               [12]  399 	mov	r0,a
      000143 C0 02            [24]  400 	push	ar2
      000145 C0 03            [24]  401 	push	ar3
      000147 C0 04            [24]  402 	push	ar4
      000149 86 82            [24]  403 	mov	dpl,@r0
      00014B 08               [12]  404 	inc	r0
      00014C 86 83            [24]  405 	mov	dph,@r0
      00014E 08               [12]  406 	inc	r0
      00014F 86 F0            [24]  407 	mov	b,@r0
      000151 12r00r00         [24]  408 	lcall	___gptr_cmp
      000154 15 81            [12]  409 	dec	sp
      000156 15 81            [12]  410 	dec	sp
      000158 15 81            [12]  411 	dec	sp
      00015A 60 1A            [24]  412 	jz	00101$
      00015C EA               [12]  413 	mov	a,r2
      00015D 4B               [12]  414 	orl	a,r3
      00015E 60 16            [24]  415 	jz	00101$
      000160 8A 82            [24]  416 	mov	dpl,r2
      000162 8B 83            [24]  417 	mov	dph,r3
      000164 8C F0            [24]  418 	mov	b,r4
      000166 12r00r00         [24]  419 	lcall	__gptrget
      000169 FA               [12]  420 	mov	r2,a
      00016A A3               [24]  421 	inc	dptr
      00016B 12r00r00         [24]  422 	lcall	__gptrget
      00016E FB               [12]  423 	mov	r3,a
      00016F A3               [24]  424 	inc	dptr
      000170 12r00r00         [24]  425 	lcall	__gptrget
      000173 FC               [12]  426 	mov	r4,a
      000174 80 C8            [24]  427 	sjmp	00120$
      000176                        428 00101$:
                                    429 ;	../../core/sys/process.c:134: if(q == NULL) {
      000176 EA               [12]  430 	mov	a,r2
      000177 4B               [12]  431 	orl	a,r3
      000178 70 03            [24]  432 	jnz	00103$
                                    433 ;	../../core/sys/process.c:135: return;
      00017A 02r03rD0         [24]  434 	ljmp	00128$
      00017D                        435 00103$:
                                    436 ;	../../core/sys/process.c:138: if(process_is_running(p)) {
      00017D E5 81            [12]  437 	mov	a,sp
      00017F 24 F8            [12]  438 	add	a,#0xf8
      000181 F8               [12]  439 	mov	r0,a
      000182 86 82            [24]  440 	mov	dpl,@r0
      000184 08               [12]  441 	inc	r0
      000185 86 83            [24]  442 	mov	dph,@r0
      000187 08               [12]  443 	inc	r0
      000188 86 F0            [24]  444 	mov	b,@r0
      00018A 12r08rB2         [24]  445 	lcall	_process_is_running
      00018D E5 82            [12]  446 	mov	a,dpl
      00018F 85 83 F0         [24]  447 	mov	b,dph
      000192 45 F0            [12]  448 	orl	a,b
      000194 70 03            [24]  449 	jnz	00203$
      000196 02r02rD5         [24]  450 	ljmp	00111$
      000199                        451 00203$:
                                    452 ;	../../core/sys/process.c:140: p->state = PROCESS_STATE_NONE;
      000199 E5 81            [12]  453 	mov	a,sp
      00019B 24 F8            [12]  454 	add	a,#0xf8
      00019D F8               [12]  455 	mov	r0,a
      00019E 74 07            [12]  456 	mov	a,#0x07
      0001A0 26               [12]  457 	add	a,@r0
      0001A1 FA               [12]  458 	mov	r2,a
      0001A2 E4               [12]  459 	clr	a
      0001A3 08               [12]  460 	inc	r0
      0001A4 36               [12]  461 	addc	a,@r0
      0001A5 FB               [12]  462 	mov	r3,a
      0001A6 08               [12]  463 	inc	r0
      0001A7 86 04            [24]  464 	mov	ar4,@r0
      0001A9 8A 82            [24]  465 	mov	dpl,r2
      0001AB 8B 83            [24]  466 	mov	dph,r3
      0001AD 8C F0            [24]  467 	mov	b,r4
      0001AF E4               [12]  468 	clr	a
      0001B0 12r00r00         [24]  469 	lcall	__gptrput
                                    470 ;	../../core/sys/process.c:147: for(q = process_list; q != NULL; q = q->next) {
      0001B3 90r00r00         [24]  471 	mov	dptr,#_process_list
      0001B6 E0               [24]  472 	movx	a,@dptr
      0001B7 FA               [12]  473 	mov	r2,a
      0001B8 A3               [24]  474 	inc	dptr
      0001B9 E0               [24]  475 	movx	a,@dptr
      0001BA FB               [12]  476 	mov	r3,a
      0001BB A3               [24]  477 	inc	dptr
      0001BC E0               [24]  478 	movx	a,@dptr
      0001BD FC               [12]  479 	mov	r4,a
      0001BE 8A 07            [24]  480 	mov	ar7,r2
      0001C0 8B 06            [24]  481 	mov	ar6,r3
      0001C2 8C 05            [24]  482 	mov	ar5,r4
      0001C4                        483 00123$:
      0001C4 EF               [12]  484 	mov	a,r7
      0001C5 4E               [12]  485 	orl	a,r6
      0001C6 60 66            [24]  486 	jz	00106$
                                    487 ;	../../core/sys/process.c:148: if(p != q) {
      0001C8 E5 81            [12]  488 	mov	a,sp
      0001CA 24 F8            [12]  489 	add	a,#0xf8
      0001CC F8               [12]  490 	mov	r0,a
      0001CD C0 07            [24]  491 	push	ar7
      0001CF C0 06            [24]  492 	push	ar6
      0001D1 C0 05            [24]  493 	push	ar5
      0001D3 86 82            [24]  494 	mov	dpl,@r0
      0001D5 08               [12]  495 	inc	r0
      0001D6 86 83            [24]  496 	mov	dph,@r0
      0001D8 08               [12]  497 	inc	r0
      0001D9 86 F0            [24]  498 	mov	b,@r0
      0001DB 12r00r00         [24]  499 	lcall	___gptr_cmp
      0001DE 15 81            [12]  500 	dec	sp
      0001E0 15 81            [12]  501 	dec	sp
      0001E2 15 81            [12]  502 	dec	sp
      0001E4 60 32            [24]  503 	jz	00124$
                                    504 ;	../../core/sys/process.c:149: call_process(q, PROCESS_EVENT_EXITED, (process_data_t)p);
      0001E6 E5 81            [12]  505 	mov	a,sp
      0001E8 24 F8            [12]  506 	add	a,#0xf8
      0001EA F8               [12]  507 	mov	r0,a
      0001EB 86 02            [24]  508 	mov	ar2,@r0
      0001ED 08               [12]  509 	inc	r0
      0001EE 86 03            [24]  510 	mov	ar3,@r0
      0001F0 08               [12]  511 	inc	r0
      0001F1 86 04            [24]  512 	mov	ar4,@r0
      0001F3 C0 07            [24]  513 	push	ar7
      0001F5 C0 06            [24]  514 	push	ar6
      0001F7 C0 05            [24]  515 	push	ar5
      0001F9 C0 02            [24]  516 	push	ar2
      0001FB C0 03            [24]  517 	push	ar3
      0001FD C0 04            [24]  518 	push	ar4
      0001FF 74 87            [12]  519 	mov	a,#0x87
      000201 C0 E0            [24]  520 	push	acc
      000203 8F 82            [24]  521 	mov	dpl,r7
      000205 8E 83            [24]  522 	mov	dph,r6
      000207 8D F0            [24]  523 	mov	b,r5
      000209 12r03rD7         [24]  524 	lcall	_call_process
      00020C E5 81            [12]  525 	mov	a,sp
      00020E 24 FC            [12]  526 	add	a,#0xfc
      000210 F5 81            [12]  527 	mov	sp,a
      000212 D0 05            [24]  528 	pop	ar5
      000214 D0 06            [24]  529 	pop	ar6
      000216 D0 07            [24]  530 	pop	ar7
      000218                        531 00124$:
                                    532 ;	../../core/sys/process.c:147: for(q = process_list; q != NULL; q = q->next) {
      000218 8F 82            [24]  533 	mov	dpl,r7
      00021A 8E 83            [24]  534 	mov	dph,r6
      00021C 8D F0            [24]  535 	mov	b,r5
      00021E 12r00r00         [24]  536 	lcall	__gptrget
      000221 FF               [12]  537 	mov	r7,a
      000222 A3               [24]  538 	inc	dptr
      000223 12r00r00         [24]  539 	lcall	__gptrget
      000226 FE               [12]  540 	mov	r6,a
      000227 A3               [24]  541 	inc	dptr
      000228 12r00r00         [24]  542 	lcall	__gptrget
      00022B FD               [12]  543 	mov	r5,a
      00022C 80 96            [24]  544 	sjmp	00123$
      00022E                        545 00106$:
                                    546 ;	../../core/sys/process.c:153: if(p->thread != NULL && p != fromprocess) {
      00022E E5 81            [12]  547 	mov	a,sp
      000230 24 F8            [12]  548 	add	a,#0xf8
      000232 F8               [12]  549 	mov	r0,a
      000233 74 03            [12]  550 	mov	a,#0x03
      000235 26               [12]  551 	add	a,@r0
      000236 FA               [12]  552 	mov	r2,a
      000237 E4               [12]  553 	clr	a
      000238 08               [12]  554 	inc	r0
      000239 36               [12]  555 	addc	a,@r0
      00023A FB               [12]  556 	mov	r3,a
      00023B 08               [12]  557 	inc	r0
      00023C 86 04            [24]  558 	mov	ar4,@r0
      00023E 8A 82            [24]  559 	mov	dpl,r2
      000240 8B 83            [24]  560 	mov	dph,r3
      000242 8C F0            [24]  561 	mov	b,r4
      000244 12r00r00         [24]  562 	lcall	__gptrget
      000247 FE               [12]  563 	mov	r6,a
      000248 A3               [24]  564 	inc	dptr
      000249 12r00r00         [24]  565 	lcall	__gptrget
      00024C FF               [12]  566 	mov	r7,a
      00024D 4E               [12]  567 	orl	a,r6
      00024E 70 03            [24]  568 	jnz	00206$
      000250 02r02rD5         [24]  569 	ljmp	00111$
      000253                        570 00206$:
      000253 E5 81            [12]  571 	mov	a,sp
      000255 24 F8            [12]  572 	add	a,#0xf8
      000257 F8               [12]  573 	mov	r0,a
      000258 E5 81            [12]  574 	mov	a,sp
      00025A 24 F3            [12]  575 	add	a,#0xf3
      00025C F9               [12]  576 	mov	r1,a
      00025D E7               [12]  577 	mov	a,@r1
      00025E C0 E0            [24]  578 	push	acc
      000260 09               [12]  579 	inc	r1
      000261 E7               [12]  580 	mov	a,@r1
      000262 C0 E0            [24]  581 	push	acc
      000264 09               [12]  582 	inc	r1
      000265 E7               [12]  583 	mov	a,@r1
      000266 C0 E0            [24]  584 	push	acc
      000268 86 82            [24]  585 	mov	dpl,@r0
      00026A 08               [12]  586 	inc	r0
      00026B 86 83            [24]  587 	mov	dph,@r0
      00026D 08               [12]  588 	inc	r0
      00026E 86 F0            [24]  589 	mov	b,@r0
      000270 12r00r00         [24]  590 	lcall	___gptr_cmp
      000273 15 81            [12]  591 	dec	sp
      000275 15 81            [12]  592 	dec	sp
      000277 15 81            [12]  593 	dec	sp
      000279 60 5A            [24]  594 	jz	00111$
                                    595 ;	../../core/sys/process.c:155: process_current = p;
      00027B E5 81            [12]  596 	mov	a,sp
      00027D 24 F8            [12]  597 	add	a,#0xf8
      00027F F8               [12]  598 	mov	r0,a
      000280 90r00r03         [24]  599 	mov	dptr,#_process_current
      000283 E6               [12]  600 	mov	a,@r0
      000284 F0               [24]  601 	movx	@dptr,a
      000285 08               [12]  602 	inc	r0
      000286 E6               [12]  603 	mov	a,@r0
      000287 A3               [24]  604 	inc	dptr
      000288 F0               [24]  605 	movx	@dptr,a
      000289 08               [12]  606 	inc	r0
      00028A E6               [12]  607 	mov	a,@r0
      00028B A3               [24]  608 	inc	dptr
      00028C F0               [24]  609 	movx	@dptr,a
                                    610 ;	../../core/sys/process.c:156: p->thread(&p->pt, PROCESS_EVENT_EXIT, NULL);
      00028D 8A 82            [24]  611 	mov	dpl,r2
      00028F 8B 83            [24]  612 	mov	dph,r3
      000291 8C F0            [24]  613 	mov	b,r4
      000293 12r00r00         [24]  614 	lcall	__gptrget
      000296 FA               [12]  615 	mov	r2,a
      000297 A3               [24]  616 	inc	dptr
      000298 12r00r00         [24]  617 	lcall	__gptrget
      00029B FB               [12]  618 	mov	r3,a
      00029C E5 81            [12]  619 	mov	a,sp
      00029E 24 F8            [12]  620 	add	a,#0xf8
      0002A0 F8               [12]  621 	mov	r0,a
      0002A1 74 05            [12]  622 	mov	a,#0x05
      0002A3 26               [12]  623 	add	a,@r0
      0002A4 FD               [12]  624 	mov	r5,a
      0002A5 E4               [12]  625 	clr	a
      0002A6 08               [12]  626 	inc	r0
      0002A7 36               [12]  627 	addc	a,@r0
      0002A8 FE               [12]  628 	mov	r6,a
      0002A9 08               [12]  629 	inc	r0
      0002AA 86 07            [24]  630 	mov	ar7,@r0
      0002AC C0 03            [24]  631 	push	ar3
      0002AE C0 02            [24]  632 	push	ar2
      0002B0 E4               [12]  633 	clr	a
      0002B1 C0 E0            [24]  634 	push	acc
      0002B3 C0 E0            [24]  635 	push	acc
      0002B5 C0 E0            [24]  636 	push	acc
      0002B7 74 83            [12]  637 	mov	a,#0x83
      0002B9 C0 E0            [24]  638 	push	acc
      0002BB 12r02rC0         [24]  639 	lcall	00208$
      0002BE 80 0B            [24]  640 	sjmp	00209$
      0002C0                        641 00208$:
      0002C0 C0 02            [24]  642 	push	ar2
      0002C2 C0 03            [24]  643 	push	ar3
      0002C4 8D 82            [24]  644 	mov	dpl,r5
      0002C6 8E 83            [24]  645 	mov	dph,r6
      0002C8 8F F0            [24]  646 	mov	b,r7
      0002CA 22               [24]  647 	ret
      0002CB                        648 00209$:
      0002CB E5 81            [12]  649 	mov	a,sp
      0002CD 24 FC            [12]  650 	add	a,#0xfc
      0002CF F5 81            [12]  651 	mov	sp,a
      0002D1 D0 02            [24]  652 	pop	ar2
      0002D3 D0 03            [24]  653 	pop	ar3
      0002D5                        654 00111$:
                                    655 ;	../../core/sys/process.c:160: if(p == process_list) {
      0002D5 90r00r00         [24]  656 	mov	dptr,#_process_list
      0002D8 E0               [24]  657 	movx	a,@dptr
      0002D9 FD               [12]  658 	mov	r5,a
      0002DA A3               [24]  659 	inc	dptr
      0002DB E0               [24]  660 	movx	a,@dptr
      0002DC FE               [12]  661 	mov	r6,a
      0002DD A3               [24]  662 	inc	dptr
      0002DE E0               [24]  663 	movx	a,@dptr
      0002DF FF               [12]  664 	mov	r7,a
      0002E0 E5 81            [12]  665 	mov	a,sp
      0002E2 24 F8            [12]  666 	add	a,#0xf8
      0002E4 F8               [12]  667 	mov	r0,a
      0002E5 C0 05            [24]  668 	push	ar5
      0002E7 C0 06            [24]  669 	push	ar6
      0002E9 C0 07            [24]  670 	push	ar7
      0002EB 86 82            [24]  671 	mov	dpl,@r0
      0002ED 08               [12]  672 	inc	r0
      0002EE 86 83            [24]  673 	mov	dph,@r0
      0002F0 08               [12]  674 	inc	r0
      0002F1 86 F0            [24]  675 	mov	b,@r0
      0002F3 12r00r00         [24]  676 	lcall	___gptr_cmp
      0002F6 15 81            [12]  677 	dec	sp
      0002F8 15 81            [12]  678 	dec	sp
      0002FA 15 81            [12]  679 	dec	sp
      0002FC 60 02            [24]  680 	jz	00211$
      0002FE 80 22            [24]  681 	sjmp	00116$
      000300                        682 00211$:
                                    683 ;	../../core/sys/process.c:161: process_list = process_list->next;
      000300 8D 82            [24]  684 	mov	dpl,r5
      000302 8E 83            [24]  685 	mov	dph,r6
      000304 8F F0            [24]  686 	mov	b,r7
      000306 12r00r00         [24]  687 	lcall	__gptrget
      000309 FA               [12]  688 	mov	r2,a
      00030A A3               [24]  689 	inc	dptr
      00030B 12r00r00         [24]  690 	lcall	__gptrget
      00030E FB               [12]  691 	mov	r3,a
      00030F A3               [24]  692 	inc	dptr
      000310 12r00r00         [24]  693 	lcall	__gptrget
      000313 FC               [12]  694 	mov	r4,a
      000314 90r00r00         [24]  695 	mov	dptr,#_process_list
      000317 EA               [12]  696 	mov	a,r2
      000318 F0               [24]  697 	movx	@dptr,a
      000319 EB               [12]  698 	mov	a,r3
      00031A A3               [24]  699 	inc	dptr
      00031B F0               [24]  700 	movx	@dptr,a
      00031C EC               [12]  701 	mov	a,r4
      00031D A3               [24]  702 	inc	dptr
      00031E F0               [24]  703 	movx	@dptr,a
      00031F 02r03rBF         [24]  704 	ljmp	00117$
      000322                        705 00116$:
                                    706 ;	../../core/sys/process.c:163: for(q = process_list; q != NULL; q = q->next) {
      000322 E5 81            [12]  707 	mov	a,sp
      000324 24 FB            [12]  708 	add	a,#0xfb
      000326 F8               [12]  709 	mov	r0,a
      000327 A6 05            [24]  710 	mov	@r0,ar5
      000329 08               [12]  711 	inc	r0
      00032A A6 06            [24]  712 	mov	@r0,ar6
      00032C 08               [12]  713 	inc	r0
      00032D A6 07            [24]  714 	mov	@r0,ar7
      00032F                        715 00126$:
      00032F E5 81            [12]  716 	mov	a,sp
      000331 24 FB            [12]  717 	add	a,#0xfb
      000333 F8               [12]  718 	mov	r0,a
      000334 E6               [12]  719 	mov	a,@r0
      000335 08               [12]  720 	inc	r0
      000336 46               [12]  721 	orl	a,@r0
      000337 70 03            [24]  722 	jnz	00212$
      000339 02r03rBF         [24]  723 	ljmp	00117$
      00033C                        724 00212$:
                                    725 ;	../../core/sys/process.c:164: if(q->next == p) {
      00033C E5 81            [12]  726 	mov	a,sp
      00033E 24 FB            [12]  727 	add	a,#0xfb
      000340 F8               [12]  728 	mov	r0,a
      000341 86 82            [24]  729 	mov	dpl,@r0
      000343 08               [12]  730 	inc	r0
      000344 86 83            [24]  731 	mov	dph,@r0
      000346 08               [12]  732 	inc	r0
      000347 86 F0            [24]  733 	mov	b,@r0
      000349 12r00r00         [24]  734 	lcall	__gptrget
      00034C FA               [12]  735 	mov	r2,a
      00034D A3               [24]  736 	inc	dptr
      00034E 12r00r00         [24]  737 	lcall	__gptrget
      000351 FB               [12]  738 	mov	r3,a
      000352 A3               [24]  739 	inc	dptr
      000353 12r00r00         [24]  740 	lcall	__gptrget
      000356 FC               [12]  741 	mov	r4,a
      000357 E5 81            [12]  742 	mov	a,sp
      000359 24 F8            [12]  743 	add	a,#0xf8
      00035B F8               [12]  744 	mov	r0,a
      00035C C0 02            [24]  745 	push	ar2
      00035E C0 03            [24]  746 	push	ar3
      000360 C0 04            [24]  747 	push	ar4
      000362 86 82            [24]  748 	mov	dpl,@r0
      000364 08               [12]  749 	inc	r0
      000365 86 83            [24]  750 	mov	dph,@r0
      000367 08               [12]  751 	inc	r0
      000368 86 F0            [24]  752 	mov	b,@r0
      00036A 12r00r00         [24]  753 	lcall	___gptr_cmp
      00036D 15 81            [12]  754 	dec	sp
      00036F 15 81            [12]  755 	dec	sp
      000371 15 81            [12]  756 	dec	sp
      000373 60 02            [24]  757 	jz	00214$
      000375 80 38            [24]  758 	sjmp	00127$
      000377                        759 00214$:
                                    760 ;	../../core/sys/process.c:165: q->next = p->next;
      000377 E5 81            [12]  761 	mov	a,sp
      000379 24 F8            [12]  762 	add	a,#0xf8
      00037B F8               [12]  763 	mov	r0,a
      00037C 86 82            [24]  764 	mov	dpl,@r0
      00037E 08               [12]  765 	inc	r0
      00037F 86 83            [24]  766 	mov	dph,@r0
      000381 08               [12]  767 	inc	r0
      000382 86 F0            [24]  768 	mov	b,@r0
      000384 12r00r00         [24]  769 	lcall	__gptrget
      000387 FD               [12]  770 	mov	r5,a
      000388 A3               [24]  771 	inc	dptr
      000389 12r00r00         [24]  772 	lcall	__gptrget
      00038C FE               [12]  773 	mov	r6,a
      00038D A3               [24]  774 	inc	dptr
      00038E 12r00r00         [24]  775 	lcall	__gptrget
      000391 FF               [12]  776 	mov	r7,a
      000392 E5 81            [12]  777 	mov	a,sp
      000394 24 FB            [12]  778 	add	a,#0xfb
      000396 F8               [12]  779 	mov	r0,a
      000397 86 82            [24]  780 	mov	dpl,@r0
      000399 08               [12]  781 	inc	r0
      00039A 86 83            [24]  782 	mov	dph,@r0
      00039C 08               [12]  783 	inc	r0
      00039D 86 F0            [24]  784 	mov	b,@r0
      00039F ED               [12]  785 	mov	a,r5
      0003A0 12r00r00         [24]  786 	lcall	__gptrput
      0003A3 A3               [24]  787 	inc	dptr
      0003A4 EE               [12]  788 	mov	a,r6
      0003A5 12r00r00         [24]  789 	lcall	__gptrput
      0003A8 A3               [24]  790 	inc	dptr
      0003A9 EF               [12]  791 	mov	a,r7
      0003AA 12r00r00         [24]  792 	lcall	__gptrput
                                    793 ;	../../core/sys/process.c:166: break;
      0003AD 80 10            [24]  794 	sjmp	00117$
      0003AF                        795 00127$:
                                    796 ;	../../core/sys/process.c:163: for(q = process_list; q != NULL; q = q->next) {
      0003AF E5 81            [12]  797 	mov	a,sp
      0003B1 24 FB            [12]  798 	add	a,#0xfb
      0003B3 F8               [12]  799 	mov	r0,a
      0003B4 A6 02            [24]  800 	mov	@r0,ar2
      0003B6 08               [12]  801 	inc	r0
      0003B7 A6 03            [24]  802 	mov	@r0,ar3
      0003B9 08               [12]  803 	inc	r0
      0003BA A6 04            [24]  804 	mov	@r0,ar4
      0003BC 02r03r2F         [24]  805 	ljmp	00126$
      0003BF                        806 00117$:
                                    807 ;	../../core/sys/process.c:171: process_current = old_current;
      0003BF A8 81            [24]  808 	mov	r0,sp
      0003C1 18               [12]  809 	dec	r0
      0003C2 18               [12]  810 	dec	r0
      0003C3 90r00r03         [24]  811 	mov	dptr,#_process_current
      0003C6 E6               [12]  812 	mov	a,@r0
      0003C7 F0               [24]  813 	movx	@dptr,a
      0003C8 08               [12]  814 	inc	r0
      0003C9 E6               [12]  815 	mov	a,@r0
      0003CA A3               [24]  816 	inc	dptr
      0003CB F0               [24]  817 	movx	@dptr,a
      0003CC 08               [12]  818 	inc	r0
      0003CD E6               [12]  819 	mov	a,@r0
      0003CE A3               [24]  820 	inc	dptr
      0003CF F0               [24]  821 	movx	@dptr,a
      0003D0                        822 00128$:
                                    823 ;	../../core/sys/process.c:172: }
      0003D0 E5 81            [12]  824 	mov	a,sp
      0003D2 24 F7            [12]  825 	add	a,#0xf7
      0003D4 F5 81            [12]  826 	mov	sp,a
      0003D6 22               [24]  827 	ret
                                    828 ;------------------------------------------------------------
                                    829 ;Allocation info for local variables in function 'call_process'
                                    830 ;------------------------------------------------------------
                                    831 ;ev                        Allocated to stack - sp -8
                                    832 ;data                      Allocated to stack - sp -11
                                    833 ;p                         Allocated to stack - sp -5
                                    834 ;ret                       Allocated to registers r6 r7 
                                    835 ;sloc0                     Allocated to stack - sp -2
                                    836 ;------------------------------------------------------------
                                    837 ;	../../core/sys/process.c:175: call_process(struct process *p, process_event_t ev, process_data_t data)
                                    838 ;	-----------------------------------------
                                    839 ;	 function call_process
                                    840 ;	-----------------------------------------
      0003D7                        841 _call_process:
      0003D7 C0 82            [24]  842 	push	dpl
      0003D9 C0 83            [24]  843 	push	dph
      0003DB C0 F0            [24]  844 	push	b
      0003DD 05 81            [12]  845 	inc	sp
      0003DF 05 81            [12]  846 	inc	sp
      0003E1 05 81            [12]  847 	inc	sp
                                    848 ;	../../core/sys/process.c:185: if((p->state & PROCESS_STATE_RUNNING) &&
      0003E3 E5 81            [12]  849 	mov	a,sp
      0003E5 24 FB            [12]  850 	add	a,#0xfb
      0003E7 F8               [12]  851 	mov	r0,a
      0003E8 74 07            [12]  852 	mov	a,#0x07
      0003EA 26               [12]  853 	add	a,@r0
      0003EB FA               [12]  854 	mov	r2,a
      0003EC E4               [12]  855 	clr	a
      0003ED 08               [12]  856 	inc	r0
      0003EE 36               [12]  857 	addc	a,@r0
      0003EF FB               [12]  858 	mov	r3,a
      0003F0 08               [12]  859 	inc	r0
      0003F1 86 04            [24]  860 	mov	ar4,@r0
      0003F3 8A 82            [24]  861 	mov	dpl,r2
      0003F5 8B 83            [24]  862 	mov	dph,r3
      0003F7 8C F0            [24]  863 	mov	b,r4
      0003F9 12r00r00         [24]  864 	lcall	__gptrget
      0003FC FF               [12]  865 	mov	r7,a
      0003FD 20 E0 03         [24]  866 	jb	acc.0,00127$
      000400 02r05r15         [24]  867 	ljmp	00109$
      000403                        868 00127$:
                                    869 ;	../../core/sys/process.c:186: p->thread != NULL) {
      000403 E5 81            [12]  870 	mov	a,sp
      000405 24 FB            [12]  871 	add	a,#0xfb
      000407 F8               [12]  872 	mov	r0,a
      000408 A9 81            [24]  873 	mov	r1,sp
      00040A 19               [12]  874 	dec	r1
      00040B 19               [12]  875 	dec	r1
      00040C 74 03            [12]  876 	mov	a,#0x03
      00040E 26               [12]  877 	add	a,@r0
      00040F F7               [12]  878 	mov	@r1,a
      000410 E4               [12]  879 	clr	a
      000411 08               [12]  880 	inc	r0
      000412 36               [12]  881 	addc	a,@r0
      000413 09               [12]  882 	inc	r1
      000414 F7               [12]  883 	mov	@r1,a
      000415 08               [12]  884 	inc	r0
      000416 09               [12]  885 	inc	r1
      000417 E6               [12]  886 	mov	a,@r0
      000418 F7               [12]  887 	mov	@r1,a
      000419 A8 81            [24]  888 	mov	r0,sp
      00041B 18               [12]  889 	dec	r0
      00041C 18               [12]  890 	dec	r0
      00041D 86 82            [24]  891 	mov	dpl,@r0
      00041F 08               [12]  892 	inc	r0
      000420 86 83            [24]  893 	mov	dph,@r0
      000422 08               [12]  894 	inc	r0
      000423 86 F0            [24]  895 	mov	b,@r0
      000425 12r00r00         [24]  896 	lcall	__gptrget
      000428 FE               [12]  897 	mov	r6,a
      000429 A3               [24]  898 	inc	dptr
      00042A 12r00r00         [24]  899 	lcall	__gptrget
      00042D FF               [12]  900 	mov	r7,a
      00042E 4E               [12]  901 	orl	a,r6
      00042F 70 03            [24]  902 	jnz	00128$
      000431 02r05r15         [24]  903 	ljmp	00109$
      000434                        904 00128$:
                                    905 ;	../../core/sys/process.c:188: process_current = p;
      000434 E5 81            [12]  906 	mov	a,sp
      000436 24 FB            [12]  907 	add	a,#0xfb
      000438 F8               [12]  908 	mov	r0,a
      000439 90r00r03         [24]  909 	mov	dptr,#_process_current
      00043C E6               [12]  910 	mov	a,@r0
      00043D F0               [24]  911 	movx	@dptr,a
      00043E 08               [12]  912 	inc	r0
      00043F E6               [12]  913 	mov	a,@r0
      000440 A3               [24]  914 	inc	dptr
      000441 F0               [24]  915 	movx	@dptr,a
      000442 08               [12]  916 	inc	r0
      000443 E6               [12]  917 	mov	a,@r0
      000444 A3               [24]  918 	inc	dptr
      000445 F0               [24]  919 	movx	@dptr,a
                                    920 ;	../../core/sys/process.c:189: p->state = PROCESS_STATE_CALLED;
      000446 8A 82            [24]  921 	mov	dpl,r2
      000448 8B 83            [24]  922 	mov	dph,r3
      00044A 8C F0            [24]  923 	mov	b,r4
      00044C 74 02            [12]  924 	mov	a,#0x02
      00044E 12r00r00         [24]  925 	lcall	__gptrput
                                    926 ;	../../core/sys/process.c:190: ret = p->thread(&p->pt, ev, data);
      000451 A8 81            [24]  927 	mov	r0,sp
      000453 18               [12]  928 	dec	r0
      000454 18               [12]  929 	dec	r0
      000455 86 82            [24]  930 	mov	dpl,@r0
      000457 08               [12]  931 	inc	r0
      000458 86 83            [24]  932 	mov	dph,@r0
      00045A 08               [12]  933 	inc	r0
      00045B 86 F0            [24]  934 	mov	b,@r0
      00045D 12r00r00         [24]  935 	lcall	__gptrget
      000460 FE               [12]  936 	mov	r6,a
      000461 A3               [24]  937 	inc	dptr
      000462 12r00r00         [24]  938 	lcall	__gptrget
      000465 FF               [12]  939 	mov	r7,a
      000466 C0 02            [24]  940 	push	ar2
      000468 C0 03            [24]  941 	push	ar3
      00046A C0 04            [24]  942 	push	ar4
      00046C E5 81            [12]  943 	mov	a,sp
      00046E 24 F8            [12]  944 	add	a,#0xf8
      000470 F8               [12]  945 	mov	r0,a
      000471 74 05            [12]  946 	mov	a,#0x05
      000473 26               [12]  947 	add	a,@r0
      000474 FB               [12]  948 	mov	r3,a
      000475 E4               [12]  949 	clr	a
      000476 08               [12]  950 	inc	r0
      000477 36               [12]  951 	addc	a,@r0
      000478 FC               [12]  952 	mov	r4,a
      000479 08               [12]  953 	inc	r0
      00047A 86 05            [24]  954 	mov	ar5,@r0
      00047C C0 07            [24]  955 	push	ar7
      00047E C0 04            [24]  956 	push	ar4
      000480 C0 03            [24]  957 	push	ar3
      000482 C0 02            [24]  958 	push	ar2
      000484 E5 81            [12]  959 	mov	a,sp
      000486 24 EE            [12]  960 	add	a,#0xee
      000488 F8               [12]  961 	mov	r0,a
      000489 E6               [12]  962 	mov	a,@r0
      00048A C0 E0            [24]  963 	push	acc
      00048C 08               [12]  964 	inc	r0
      00048D E6               [12]  965 	mov	a,@r0
      00048E C0 E0            [24]  966 	push	acc
      000490 08               [12]  967 	inc	r0
      000491 E6               [12]  968 	mov	a,@r0
      000492 C0 E0            [24]  969 	push	acc
      000494 E5 81            [12]  970 	mov	a,sp
      000496 24 EE            [12]  971 	add	a,#0xee
      000498 F8               [12]  972 	mov	r0,a
      000499 E6               [12]  973 	mov	a,@r0
      00049A C0 E0            [24]  974 	push	acc
      00049C 12r04rA1         [24]  975 	lcall	00129$
      00049F 80 0B            [24]  976 	sjmp	00130$
      0004A1                        977 00129$:
      0004A1 C0 06            [24]  978 	push	ar6
      0004A3 C0 07            [24]  979 	push	ar7
      0004A5 8B 82            [24]  980 	mov	dpl,r3
      0004A7 8C 83            [24]  981 	mov	dph,r4
      0004A9 8D F0            [24]  982 	mov	b,r5
      0004AB 22               [24]  983 	ret
      0004AC                        984 00130$:
      0004AC AE 82            [24]  985 	mov	r6,dpl
      0004AE E5 81            [12]  986 	mov	a,sp
      0004B0 24 FC            [12]  987 	add	a,#0xfc
      0004B2 F5 81            [12]  988 	mov	sp,a
      0004B4 D0 02            [24]  989 	pop	ar2
      0004B6 D0 03            [24]  990 	pop	ar3
      0004B8 D0 04            [24]  991 	pop	ar4
      0004BA D0 07            [24]  992 	pop	ar7
      0004BC 7F 00            [12]  993 	mov	r7,#0x00
                                    994 ;	../../core/sys/process.c:191: if(ret == PT_EXITED ||
      0004BE BE 02 0B         [24]  995 	cjne	r6,#0x02,00131$
      0004C1 BF 00 08         [24]  996 	cjne	r7,#0x00,00131$
      0004C4 D0 04            [24]  997 	pop	ar4
      0004C6 D0 03            [24]  998 	pop	ar3
      0004C8 D0 02            [24]  999 	pop	ar2
      0004CA 80 16            [24] 1000 	sjmp	00101$
      0004CC                       1001 00131$:
      0004CC D0 04            [24] 1002 	pop	ar4
      0004CE D0 03            [24] 1003 	pop	ar3
      0004D0 D0 02            [24] 1004 	pop	ar2
                                   1005 ;	../../core/sys/process.c:192: ret == PT_ENDED ||
      0004D2 BE 03 05         [24] 1006 	cjne	r6,#0x03,00132$
      0004D5 BF 00 02         [24] 1007 	cjne	r7,#0x00,00132$
      0004D8 80 08            [24] 1008 	sjmp	00101$
      0004DA                       1009 00132$:
                                   1010 ;	../../core/sys/process.c:193: ev == PROCESS_EVENT_EXIT) {
      0004DA E5 81            [12] 1011 	mov	a,sp
      0004DC 24 F8            [12] 1012 	add	a,#0xf8
      0004DE F8               [12] 1013 	mov	r0,a
      0004DF B6 83 28         [24] 1014 	cjne	@r0,#0x83,00102$
      0004E2                       1015 00101$:
                                   1016 ;	../../core/sys/process.c:194: exit_process(p, p);
      0004E2 E5 81            [12] 1017 	mov	a,sp
      0004E4 24 FB            [12] 1018 	add	a,#0xfb
      0004E6 F8               [12] 1019 	mov	r0,a
      0004E7 E6               [12] 1020 	mov	a,@r0
      0004E8 C0 E0            [24] 1021 	push	acc
      0004EA 08               [12] 1022 	inc	r0
      0004EB E6               [12] 1023 	mov	a,@r0
      0004EC C0 E0            [24] 1024 	push	acc
      0004EE 08               [12] 1025 	inc	r0
      0004EF E6               [12] 1026 	mov	a,@r0
      0004F0 C0 E0            [24] 1027 	push	acc
      0004F2 E5 81            [12] 1028 	mov	a,sp
      0004F4 24 F8            [12] 1029 	add	a,#0xf8
      0004F6 F8               [12] 1030 	mov	r0,a
      0004F7 86 82            [24] 1031 	mov	dpl,@r0
      0004F9 08               [12] 1032 	inc	r0
      0004FA 86 83            [24] 1033 	mov	dph,@r0
      0004FC 08               [12] 1034 	inc	r0
      0004FD 86 F0            [24] 1035 	mov	b,@r0
      0004FF 12r01r10         [24] 1036 	lcall	_exit_process
      000502 15 81            [12] 1037 	dec	sp
      000504 15 81            [12] 1038 	dec	sp
      000506 15 81            [12] 1039 	dec	sp
      000508 80 0B            [24] 1040 	sjmp	00109$
      00050A                       1041 00102$:
                                   1042 ;	../../core/sys/process.c:196: p->state = PROCESS_STATE_RUNNING;
      00050A 8A 82            [24] 1043 	mov	dpl,r2
      00050C 8B 83            [24] 1044 	mov	dph,r3
      00050E 8C F0            [24] 1045 	mov	b,r4
      000510 74 01            [12] 1046 	mov	a,#0x01
      000512 12r00r00         [24] 1047 	lcall	__gptrput
      000515                       1048 00109$:
                                   1049 ;	../../core/sys/process.c:199: }
      000515 E5 81            [12] 1050 	mov	a,sp
      000517 24 FA            [12] 1051 	add	a,#0xfa
      000519 F5 81            [12] 1052 	mov	sp,a
      00051B 22               [24] 1053 	ret
                                   1054 ;------------------------------------------------------------
                                   1055 ;Allocation info for local variables in function 'process_exit'
                                   1056 ;------------------------------------------------------------
                                   1057 ;p                         Allocated to registers r5 r6 r7 
                                   1058 ;------------------------------------------------------------
                                   1059 ;	../../core/sys/process.c:202: process_exit(struct process *p)
                                   1060 ;	-----------------------------------------
                                   1061 ;	 function process_exit
                                   1062 ;	-----------------------------------------
      00051C                       1063 _process_exit:
      00051C AD 82            [24] 1064 	mov	r5,dpl
      00051E AE 83            [24] 1065 	mov	r6,dph
      000520 AF F0            [24] 1066 	mov	r7,b
                                   1067 ;	../../core/sys/process.c:204: exit_process(p, PROCESS_CURRENT());
      000522 90r00r03         [24] 1068 	mov	dptr,#_process_current
      000525 E0               [24] 1069 	movx	a,@dptr
      000526 C0 E0            [24] 1070 	push	acc
      000528 A3               [24] 1071 	inc	dptr
      000529 E0               [24] 1072 	movx	a,@dptr
      00052A C0 E0            [24] 1073 	push	acc
      00052C A3               [24] 1074 	inc	dptr
      00052D E0               [24] 1075 	movx	a,@dptr
      00052E C0 E0            [24] 1076 	push	acc
      000530 8D 82            [24] 1077 	mov	dpl,r5
      000532 8E 83            [24] 1078 	mov	dph,r6
      000534 8F F0            [24] 1079 	mov	b,r7
      000536 12r01r10         [24] 1080 	lcall	_exit_process
      000539 15 81            [12] 1081 	dec	sp
      00053B 15 81            [12] 1082 	dec	sp
      00053D 15 81            [12] 1083 	dec	sp
                                   1084 ;	../../core/sys/process.c:205: }
      00053F 22               [24] 1085 	ret
                                   1086 ;------------------------------------------------------------
                                   1087 ;Allocation info for local variables in function 'process_init'
                                   1088 ;------------------------------------------------------------
                                   1089 ;	../../core/sys/process.c:208: process_init(void)
                                   1090 ;	-----------------------------------------
                                   1091 ;	 function process_init
                                   1092 ;	-----------------------------------------
      000540                       1093 _process_init:
                                   1094 ;	../../core/sys/process.c:210: lastevent = PROCESS_EVENT_MAX;
      000540 90r00r00         [24] 1095 	mov	dptr,#_lastevent
      000543 74 8A            [12] 1096 	mov	a,#0x8a
      000545 F0               [24] 1097 	movx	@dptr,a
                                   1098 ;	../../core/sys/process.c:212: nevents = fevent = 0;
      000546 90r00r02         [24] 1099 	mov	dptr,#_fevent
      000549 E4               [12] 1100 	clr	a
      00054A F0               [24] 1101 	movx	@dptr,a
      00054B 90r00r01         [24] 1102 	mov	dptr,#_nevents
      00054E F0               [24] 1103 	movx	@dptr,a
                                   1104 ;	../../core/sys/process.c:217: process_current = process_list = NULL;
      00054F 90r00r00         [24] 1105 	mov	dptr,#_process_list
      000552 F0               [24] 1106 	movx	@dptr,a
      000553 A3               [24] 1107 	inc	dptr
      000554 F0               [24] 1108 	movx	@dptr,a
      000555 A3               [24] 1109 	inc	dptr
      000556 F0               [24] 1110 	movx	@dptr,a
      000557 90r00r03         [24] 1111 	mov	dptr,#_process_current
      00055A F0               [24] 1112 	movx	@dptr,a
      00055B A3               [24] 1113 	inc	dptr
      00055C F0               [24] 1114 	movx	@dptr,a
      00055D A3               [24] 1115 	inc	dptr
      00055E F0               [24] 1116 	movx	@dptr,a
                                   1117 ;	../../core/sys/process.c:218: }
      00055F 22               [24] 1118 	ret
                                   1119 ;------------------------------------------------------------
                                   1120 ;Allocation info for local variables in function 'do_poll'
                                   1121 ;------------------------------------------------------------
                                   1122 ;p                         Allocated to stack - sp -2
                                   1123 ;------------------------------------------------------------
                                   1124 ;	../../core/sys/process.c:225: do_poll(void)
                                   1125 ;	-----------------------------------------
                                   1126 ;	 function do_poll
                                   1127 ;	-----------------------------------------
      000560                       1128 _do_poll:
      000560 05 81            [12] 1129 	inc	sp
      000562 05 81            [12] 1130 	inc	sp
      000564 05 81            [12] 1131 	inc	sp
                                   1132 ;	../../core/sys/process.c:229: poll_requested = 0;
      000566 90r00rE3         [24] 1133 	mov	dptr,#_poll_requested
      000569 E4               [12] 1134 	clr	a
      00056A F0               [24] 1135 	movx	@dptr,a
                                   1136 ;	../../core/sys/process.c:231: for(p = process_list; p != NULL; p = p->next) {
      00056B 90r00r00         [24] 1137 	mov	dptr,#_process_list
      00056E E0               [24] 1138 	movx	a,@dptr
      00056F FD               [12] 1139 	mov	r5,a
      000570 A3               [24] 1140 	inc	dptr
      000571 E0               [24] 1141 	movx	a,@dptr
      000572 FE               [12] 1142 	mov	r6,a
      000573 A3               [24] 1143 	inc	dptr
      000574 E0               [24] 1144 	movx	a,@dptr
      000575 FF               [12] 1145 	mov	r7,a
      000576 A8 81            [24] 1146 	mov	r0,sp
      000578 18               [12] 1147 	dec	r0
      000579 18               [12] 1148 	dec	r0
      00057A A6 05            [24] 1149 	mov	@r0,ar5
      00057C 08               [12] 1150 	inc	r0
      00057D A6 06            [24] 1151 	mov	@r0,ar6
      00057F 08               [12] 1152 	inc	r0
      000580 A6 07            [24] 1153 	mov	@r0,ar7
      000582                       1154 00105$:
      000582 A8 81            [24] 1155 	mov	r0,sp
      000584 18               [12] 1156 	dec	r0
      000585 18               [12] 1157 	dec	r0
      000586 E6               [12] 1158 	mov	a,@r0
      000587 08               [12] 1159 	inc	r0
      000588 46               [12] 1160 	orl	a,@r0
      000589 70 03            [24] 1161 	jnz	00121$
      00058B 02r06r0D         [24] 1162 	ljmp	00107$
      00058E                       1163 00121$:
                                   1164 ;	../../core/sys/process.c:232: if(p->needspoll) {
      00058E A8 81            [24] 1165 	mov	r0,sp
      000590 18               [12] 1166 	dec	r0
      000591 18               [12] 1167 	dec	r0
      000592 74 08            [12] 1168 	mov	a,#0x08
      000594 26               [12] 1169 	add	a,@r0
      000595 FA               [12] 1170 	mov	r2,a
      000596 E4               [12] 1171 	clr	a
      000597 08               [12] 1172 	inc	r0
      000598 36               [12] 1173 	addc	a,@r0
      000599 FB               [12] 1174 	mov	r3,a
      00059A 08               [12] 1175 	inc	r0
      00059B 86 04            [24] 1176 	mov	ar4,@r0
      00059D 8A 82            [24] 1177 	mov	dpl,r2
      00059F 8B 83            [24] 1178 	mov	dph,r3
      0005A1 8C F0            [24] 1179 	mov	b,r4
      0005A3 12r00r00         [24] 1180 	lcall	__gptrget
      0005A6 60 44            [24] 1181 	jz	00106$
                                   1182 ;	../../core/sys/process.c:233: p->state = PROCESS_STATE_RUNNING;
      0005A8 A8 81            [24] 1183 	mov	r0,sp
      0005AA 18               [12] 1184 	dec	r0
      0005AB 18               [12] 1185 	dec	r0
      0005AC 74 07            [12] 1186 	mov	a,#0x07
      0005AE 26               [12] 1187 	add	a,@r0
      0005AF FD               [12] 1188 	mov	r5,a
      0005B0 E4               [12] 1189 	clr	a
      0005B1 08               [12] 1190 	inc	r0
      0005B2 36               [12] 1191 	addc	a,@r0
      0005B3 FE               [12] 1192 	mov	r6,a
      0005B4 08               [12] 1193 	inc	r0
      0005B5 86 07            [24] 1194 	mov	ar7,@r0
      0005B7 8D 82            [24] 1195 	mov	dpl,r5
      0005B9 8E 83            [24] 1196 	mov	dph,r6
      0005BB 8F F0            [24] 1197 	mov	b,r7
      0005BD 74 01            [12] 1198 	mov	a,#0x01
      0005BF 12r00r00         [24] 1199 	lcall	__gptrput
                                   1200 ;	../../core/sys/process.c:234: p->needspoll = 0;
      0005C2 8A 82            [24] 1201 	mov	dpl,r2
      0005C4 8B 83            [24] 1202 	mov	dph,r3
      0005C6 8C F0            [24] 1203 	mov	b,r4
      0005C8 E4               [12] 1204 	clr	a
      0005C9 12r00r00         [24] 1205 	lcall	__gptrput
                                   1206 ;	../../core/sys/process.c:235: call_process(p, PROCESS_EVENT_POLL, NULL);
      0005CC C0 E0            [24] 1207 	push	acc
      0005CE C0 E0            [24] 1208 	push	acc
      0005D0 C0 E0            [24] 1209 	push	acc
      0005D2 74 82            [12] 1210 	mov	a,#0x82
      0005D4 C0 E0            [24] 1211 	push	acc
      0005D6 E5 81            [12] 1212 	mov	a,sp
      0005D8 24 FA            [12] 1213 	add	a,#0xfa
      0005DA F8               [12] 1214 	mov	r0,a
      0005DB 86 82            [24] 1215 	mov	dpl,@r0
      0005DD 08               [12] 1216 	inc	r0
      0005DE 86 83            [24] 1217 	mov	dph,@r0
      0005E0 08               [12] 1218 	inc	r0
      0005E1 86 F0            [24] 1219 	mov	b,@r0
      0005E3 12r03rD7         [24] 1220 	lcall	_call_process
      0005E6 E5 81            [12] 1221 	mov	a,sp
      0005E8 24 FC            [12] 1222 	add	a,#0xfc
      0005EA F5 81            [12] 1223 	mov	sp,a
      0005EC                       1224 00106$:
                                   1225 ;	../../core/sys/process.c:231: for(p = process_list; p != NULL; p = p->next) {
      0005EC A8 81            [24] 1226 	mov	r0,sp
      0005EE 18               [12] 1227 	dec	r0
      0005EF 18               [12] 1228 	dec	r0
      0005F0 86 82            [24] 1229 	mov	dpl,@r0
      0005F2 08               [12] 1230 	inc	r0
      0005F3 86 83            [24] 1231 	mov	dph,@r0
      0005F5 08               [12] 1232 	inc	r0
      0005F6 86 F0            [24] 1233 	mov	b,@r0
      0005F8 12r00r00         [24] 1234 	lcall	__gptrget
      0005FB 18               [12] 1235 	dec	r0
      0005FC 18               [12] 1236 	dec	r0
      0005FD F6               [12] 1237 	mov	@r0,a
      0005FE A3               [24] 1238 	inc	dptr
      0005FF 12r00r00         [24] 1239 	lcall	__gptrget
      000602 08               [12] 1240 	inc	r0
      000603 F6               [12] 1241 	mov	@r0,a
      000604 A3               [24] 1242 	inc	dptr
      000605 12r00r00         [24] 1243 	lcall	__gptrget
      000608 08               [12] 1244 	inc	r0
      000609 F6               [12] 1245 	mov	@r0,a
      00060A 02r05r82         [24] 1246 	ljmp	00105$
      00060D                       1247 00107$:
                                   1248 ;	../../core/sys/process.c:238: }
      00060D 15 81            [12] 1249 	dec	sp
      00060F 15 81            [12] 1250 	dec	sp
      000611 15 81            [12] 1251 	dec	sp
      000613 22               [24] 1252 	ret
                                   1253 ;------------------------------------------------------------
                                   1254 ;Allocation info for local variables in function 'do_event'
                                   1255 ;------------------------------------------------------------
                                   1256 ;ev                        Allocated with name '_do_event_ev_65536_94'
                                   1257 ;data                      Allocated with name '_do_event_data_65536_94'
                                   1258 ;receiver                  Allocated with name '_do_event_receiver_65536_94'
                                   1259 ;p                         Allocated with name '_do_event_p_65536_94'
                                   1260 ;------------------------------------------------------------
                                   1261 ;	../../core/sys/process.c:246: do_event(void)
                                   1262 ;	-----------------------------------------
                                   1263 ;	 function do_event
                                   1264 ;	-----------------------------------------
      000614                       1265 _do_event:
                                   1266 ;	../../core/sys/process.c:261: if(nevents > 0) {
      000614 90r00r01         [24] 1267 	mov	dptr,#_nevents
      000617 E0               [24] 1268 	movx	a,@dptr
      000618 FF               [12] 1269 	mov	r7,a
      000619 E0               [24] 1270 	movx	a,@dptr
      00061A 70 01            [24] 1271 	jnz	00140$
      00061C 22               [24] 1272 	ret
      00061D                       1273 00140$:
                                   1274 ;	../../core/sys/process.c:264: ev = events[fevent].ev;
      00061D 90r00r02         [24] 1275 	mov	dptr,#_fevent
      000620 E0               [24] 1276 	movx	a,@dptr
      000621 FE               [12] 1277 	mov	r6,a
      000622 75 F0 07         [24] 1278 	mov	b,#0x07
      000625 A4               [48] 1279 	mul	ab
      000626 FC               [12] 1280 	mov	r4,a
      000627 AD F0            [24] 1281 	mov	r5,b
      000629 24r03            [12] 1282 	add	a,#_events
      00062B F5 82            [12] 1283 	mov	dpl,a
      00062D ED               [12] 1284 	mov	a,r5
      00062E 34s00            [12] 1285 	addc	a,#(_events >> 8)
      000630 F5 83            [12] 1286 	mov	dph,a
      000632 E0               [24] 1287 	movx	a,@dptr
      000633 90r00rE4         [24] 1288 	mov	dptr,#_do_event_ev_65536_94
      000636 F0               [24] 1289 	movx	@dptr,a
                                   1290 ;	../../core/sys/process.c:266: data = events[fevent].data;
      000637 EC               [12] 1291 	mov	a,r4
      000638 24r03            [12] 1292 	add	a,#_events
      00063A FC               [12] 1293 	mov	r4,a
      00063B ED               [12] 1294 	mov	a,r5
      00063C 34s00            [12] 1295 	addc	a,#(_events >> 8)
      00063E FD               [12] 1296 	mov	r5,a
      00063F 8C 82            [24] 1297 	mov	dpl,r4
      000641 8D 83            [24] 1298 	mov	dph,r5
      000643 A3               [24] 1299 	inc	dptr
      000644 E0               [24] 1300 	movx	a,@dptr
      000645 F9               [12] 1301 	mov	r1,a
      000646 A3               [24] 1302 	inc	dptr
      000647 E0               [24] 1303 	movx	a,@dptr
      000648 FA               [12] 1304 	mov	r2,a
      000649 A3               [24] 1305 	inc	dptr
      00064A E0               [24] 1306 	movx	a,@dptr
      00064B FB               [12] 1307 	mov	r3,a
      00064C 90r00rE5         [24] 1308 	mov	dptr,#_do_event_data_65536_94
      00064F E9               [12] 1309 	mov	a,r1
      000650 F0               [24] 1310 	movx	@dptr,a
      000651 EA               [12] 1311 	mov	a,r2
      000652 A3               [24] 1312 	inc	dptr
      000653 F0               [24] 1313 	movx	@dptr,a
      000654 EB               [12] 1314 	mov	a,r3
      000655 A3               [24] 1315 	inc	dptr
      000656 F0               [24] 1316 	movx	@dptr,a
                                   1317 ;	../../core/sys/process.c:267: receiver = events[fevent].p;
      000657 8C 82            [24] 1318 	mov	dpl,r4
      000659 8D 83            [24] 1319 	mov	dph,r5
      00065B A3               [24] 1320 	inc	dptr
      00065C A3               [24] 1321 	inc	dptr
      00065D A3               [24] 1322 	inc	dptr
      00065E A3               [24] 1323 	inc	dptr
      00065F E0               [24] 1324 	movx	a,@dptr
      000660 FB               [12] 1325 	mov	r3,a
      000661 A3               [24] 1326 	inc	dptr
      000662 E0               [24] 1327 	movx	a,@dptr
      000663 FC               [12] 1328 	mov	r4,a
      000664 A3               [24] 1329 	inc	dptr
      000665 E0               [24] 1330 	movx	a,@dptr
      000666 FD               [12] 1331 	mov	r5,a
      000667 90r00rE8         [24] 1332 	mov	dptr,#_do_event_receiver_65536_94
      00066A EB               [12] 1333 	mov	a,r3
      00066B F0               [24] 1334 	movx	@dptr,a
      00066C EC               [12] 1335 	mov	a,r4
      00066D A3               [24] 1336 	inc	dptr
      00066E F0               [24] 1337 	movx	@dptr,a
      00066F ED               [12] 1338 	mov	a,r5
      000670 A3               [24] 1339 	inc	dptr
      000671 F0               [24] 1340 	movx	@dptr,a
                                   1341 ;	../../core/sys/process.c:271: fevent = (process_num_events_t) (fevent + 1) % PROCESS_CONF_NUMEVENTS;
      000672 0E               [12] 1342 	inc	r6
      000673 53 06 1F         [24] 1343 	anl	ar6,#0x1f
      000676 90r00r02         [24] 1344 	mov	dptr,#_fevent
      000679 EE               [12] 1345 	mov	a,r6
      00067A F0               [24] 1346 	movx	@dptr,a
                                   1347 ;	../../core/sys/process.c:272: --nevents;
      00067B EF               [12] 1348 	mov	a,r7
      00067C 14               [12] 1349 	dec	a
      00067D 90r00r01         [24] 1350 	mov	dptr,#_nevents
      000680 F0               [24] 1351 	movx	@dptr,a
                                   1352 ;	../../core/sys/process.c:276: if(receiver == PROCESS_BROADCAST) {
      000681 90r00rE8         [24] 1353 	mov	dptr,#_do_event_receiver_65536_94
      000684 E0               [24] 1354 	movx	a,@dptr
      000685 FD               [12] 1355 	mov	r5,a
      000686 A3               [24] 1356 	inc	dptr
      000687 E0               [24] 1357 	movx	a,@dptr
      000688 FE               [12] 1358 	mov	r6,a
      000689 A3               [24] 1359 	inc	dptr
      00068A E0               [24] 1360 	movx	a,@dptr
      00068B FF               [12] 1361 	mov	r7,a
      00068C 90r00rE8         [24] 1362 	mov	dptr,#_do_event_receiver_65536_94
      00068F E0               [24] 1363 	movx	a,@dptr
      000690 F5 F0            [12] 1364 	mov	b,a
      000692 A3               [24] 1365 	inc	dptr
      000693 E0               [24] 1366 	movx	a,@dptr
      000694 45 F0            [12] 1367 	orl	a,b
      000696 60 03            [24] 1368 	jz	00141$
      000698 02r07r21         [24] 1369 	ljmp	00107$
      00069B                       1370 00141$:
                                   1371 ;	../../core/sys/process.c:277: for(p = process_list; p != NULL; p = p->next) {
      00069B 90r00r00         [24] 1372 	mov	dptr,#_process_list
      00069E E0               [24] 1373 	movx	a,@dptr
      00069F FA               [12] 1374 	mov	r2,a
      0006A0 A3               [24] 1375 	inc	dptr
      0006A1 E0               [24] 1376 	movx	a,@dptr
      0006A2 FB               [12] 1377 	mov	r3,a
      0006A3 A3               [24] 1378 	inc	dptr
      0006A4 E0               [24] 1379 	movx	a,@dptr
      0006A5 FC               [12] 1380 	mov	r4,a
      0006A6 90r00rEB         [24] 1381 	mov	dptr,#_do_event_p_65536_94
      0006A9 EA               [12] 1382 	mov	a,r2
      0006AA F0               [24] 1383 	movx	@dptr,a
      0006AB EB               [12] 1384 	mov	a,r3
      0006AC A3               [24] 1385 	inc	dptr
      0006AD F0               [24] 1386 	movx	@dptr,a
      0006AE EC               [12] 1387 	mov	a,r4
      0006AF A3               [24] 1388 	inc	dptr
      0006B0 F0               [24] 1389 	movx	@dptr,a
      0006B1                       1390 00112$:
      0006B1 90r00rEB         [24] 1391 	mov	dptr,#_do_event_p_65536_94
      0006B4 E0               [24] 1392 	movx	a,@dptr
      0006B5 F5 F0            [12] 1393 	mov	b,a
      0006B7 A3               [24] 1394 	inc	dptr
      0006B8 E0               [24] 1395 	movx	a,@dptr
      0006B9 45 F0            [12] 1396 	orl	a,b
      0006BB 70 01            [24] 1397 	jnz	00142$
      0006BD 22               [24] 1398 	ret
      0006BE                       1399 00142$:
                                   1400 ;	../../core/sys/process.c:281: if(poll_requested) {
      0006BE 90r00rE3         [24] 1401 	mov	dptr,#_poll_requested
      0006C1 E0               [24] 1402 	movx	a,@dptr
      0006C2 60 03            [24] 1403 	jz	00102$
                                   1404 ;	../../core/sys/process.c:282: do_poll();
      0006C4 12r05r60         [24] 1405 	lcall	_do_poll
      0006C7                       1406 00102$:
                                   1407 ;	../../core/sys/process.c:284: call_process(p, ev, data);
      0006C7 90r00rEB         [24] 1408 	mov	dptr,#_do_event_p_65536_94
      0006CA E0               [24] 1409 	movx	a,@dptr
      0006CB FA               [12] 1410 	mov	r2,a
      0006CC A3               [24] 1411 	inc	dptr
      0006CD E0               [24] 1412 	movx	a,@dptr
      0006CE FB               [12] 1413 	mov	r3,a
      0006CF A3               [24] 1414 	inc	dptr
      0006D0 E0               [24] 1415 	movx	a,@dptr
      0006D1 FC               [12] 1416 	mov	r4,a
      0006D2 90r00rE5         [24] 1417 	mov	dptr,#_do_event_data_65536_94
      0006D5 E0               [24] 1418 	movx	a,@dptr
      0006D6 C0 E0            [24] 1419 	push	acc
      0006D8 A3               [24] 1420 	inc	dptr
      0006D9 E0               [24] 1421 	movx	a,@dptr
      0006DA C0 E0            [24] 1422 	push	acc
      0006DC A3               [24] 1423 	inc	dptr
      0006DD E0               [24] 1424 	movx	a,@dptr
      0006DE C0 E0            [24] 1425 	push	acc
      0006E0 90r00rE4         [24] 1426 	mov	dptr,#_do_event_ev_65536_94
      0006E3 E0               [24] 1427 	movx	a,@dptr
      0006E4 C0 E0            [24] 1428 	push	acc
      0006E6 8A 82            [24] 1429 	mov	dpl,r2
      0006E8 8B 83            [24] 1430 	mov	dph,r3
      0006EA 8C F0            [24] 1431 	mov	b,r4
      0006EC 12r03rD7         [24] 1432 	lcall	_call_process
      0006EF E5 81            [12] 1433 	mov	a,sp
      0006F1 24 FC            [12] 1434 	add	a,#0xfc
      0006F3 F5 81            [12] 1435 	mov	sp,a
                                   1436 ;	../../core/sys/process.c:277: for(p = process_list; p != NULL; p = p->next) {
      0006F5 90r00rEB         [24] 1437 	mov	dptr,#_do_event_p_65536_94
      0006F8 E0               [24] 1438 	movx	a,@dptr
      0006F9 FA               [12] 1439 	mov	r2,a
      0006FA A3               [24] 1440 	inc	dptr
      0006FB E0               [24] 1441 	movx	a,@dptr
      0006FC FB               [12] 1442 	mov	r3,a
      0006FD A3               [24] 1443 	inc	dptr
      0006FE E0               [24] 1444 	movx	a,@dptr
      0006FF FC               [12] 1445 	mov	r4,a
      000700 8A 82            [24] 1446 	mov	dpl,r2
      000702 8B 83            [24] 1447 	mov	dph,r3
      000704 8C F0            [24] 1448 	mov	b,r4
      000706 12r00r00         [24] 1449 	lcall	__gptrget
      000709 FA               [12] 1450 	mov	r2,a
      00070A A3               [24] 1451 	inc	dptr
      00070B 12r00r00         [24] 1452 	lcall	__gptrget
      00070E FB               [12] 1453 	mov	r3,a
      00070F A3               [24] 1454 	inc	dptr
      000710 12r00r00         [24] 1455 	lcall	__gptrget
      000713 FC               [12] 1456 	mov	r4,a
      000714 90r00rEB         [24] 1457 	mov	dptr,#_do_event_p_65536_94
      000717 EA               [12] 1458 	mov	a,r2
      000718 F0               [24] 1459 	movx	@dptr,a
      000719 EB               [12] 1460 	mov	a,r3
      00071A A3               [24] 1461 	inc	dptr
      00071B F0               [24] 1462 	movx	@dptr,a
      00071C EC               [12] 1463 	mov	a,r4
      00071D A3               [24] 1464 	inc	dptr
      00071E F0               [24] 1465 	movx	@dptr,a
      00071F 80 90            [24] 1466 	sjmp	00112$
      000721                       1467 00107$:
                                   1468 ;	../../core/sys/process.c:291: if(ev == PROCESS_EVENT_INIT) {
      000721 90r00rE4         [24] 1469 	mov	dptr,#_do_event_ev_65536_94
      000724 E0               [24] 1470 	movx	a,@dptr
      000725 FC               [12] 1471 	mov	r4,a
      000726 BC 81 12         [24] 1472 	cjne	r4,#0x81,00105$
                                   1473 ;	../../core/sys/process.c:292: receiver->state = PROCESS_STATE_RUNNING;
      000729 74 07            [12] 1474 	mov	a,#0x07
      00072B 2D               [12] 1475 	add	a,r5
      00072C FD               [12] 1476 	mov	r5,a
      00072D E4               [12] 1477 	clr	a
      00072E 3E               [12] 1478 	addc	a,r6
      00072F FE               [12] 1479 	mov	r6,a
      000730 8D 82            [24] 1480 	mov	dpl,r5
      000732 8E 83            [24] 1481 	mov	dph,r6
      000734 8F F0            [24] 1482 	mov	b,r7
      000736 74 01            [12] 1483 	mov	a,#0x01
      000738 12r00r00         [24] 1484 	lcall	__gptrput
      00073B                       1485 00105$:
                                   1486 ;	../../core/sys/process.c:296: call_process(receiver, ev, data);
      00073B 90r00rE8         [24] 1487 	mov	dptr,#_do_event_receiver_65536_94
      00073E E0               [24] 1488 	movx	a,@dptr
      00073F FD               [12] 1489 	mov	r5,a
      000740 A3               [24] 1490 	inc	dptr
      000741 E0               [24] 1491 	movx	a,@dptr
      000742 FE               [12] 1492 	mov	r6,a
      000743 A3               [24] 1493 	inc	dptr
      000744 E0               [24] 1494 	movx	a,@dptr
      000745 FF               [12] 1495 	mov	r7,a
      000746 90r00rE5         [24] 1496 	mov	dptr,#_do_event_data_65536_94
      000749 E0               [24] 1497 	movx	a,@dptr
      00074A C0 E0            [24] 1498 	push	acc
      00074C A3               [24] 1499 	inc	dptr
      00074D E0               [24] 1500 	movx	a,@dptr
      00074E C0 E0            [24] 1501 	push	acc
      000750 A3               [24] 1502 	inc	dptr
      000751 E0               [24] 1503 	movx	a,@dptr
      000752 C0 E0            [24] 1504 	push	acc
      000754 90r00rE4         [24] 1505 	mov	dptr,#_do_event_ev_65536_94
      000757 E0               [24] 1506 	movx	a,@dptr
      000758 C0 E0            [24] 1507 	push	acc
      00075A 8D 82            [24] 1508 	mov	dpl,r5
      00075C 8E 83            [24] 1509 	mov	dph,r6
      00075E 8F F0            [24] 1510 	mov	b,r7
      000760 12r03rD7         [24] 1511 	lcall	_call_process
      000763 E5 81            [12] 1512 	mov	a,sp
      000765 24 FC            [12] 1513 	add	a,#0xfc
      000767 F5 81            [12] 1514 	mov	sp,a
                                   1515 ;	../../core/sys/process.c:299: }
      000769 22               [24] 1516 	ret
                                   1517 ;------------------------------------------------------------
                                   1518 ;Allocation info for local variables in function 'process_run'
                                   1519 ;------------------------------------------------------------
                                   1520 ;	../../core/sys/process.c:302: process_run(void)
                                   1521 ;	-----------------------------------------
                                   1522 ;	 function process_run
                                   1523 ;	-----------------------------------------
      00076A                       1524 _process_run:
                                   1525 ;	../../core/sys/process.c:305: if(poll_requested) {
      00076A 90r00rE3         [24] 1526 	mov	dptr,#_poll_requested
      00076D E0               [24] 1527 	movx	a,@dptr
      00076E 60 03            [24] 1528 	jz	00102$
                                   1529 ;	../../core/sys/process.c:306: do_poll();
      000770 12r05r60         [24] 1530 	lcall	_do_poll
      000773                       1531 00102$:
                                   1532 ;	../../core/sys/process.c:310: do_event();
      000773 12r06r14         [24] 1533 	lcall	_do_event
                                   1534 ;	../../core/sys/process.c:312: return nevents + poll_requested;
      000776 90r00r01         [24] 1535 	mov	dptr,#_nevents
      000779 E0               [24] 1536 	movx	a,@dptr
      00077A FF               [12] 1537 	mov	r7,a
      00077B 7E 00            [12] 1538 	mov	r6,#0x00
      00077D 90r00rE3         [24] 1539 	mov	dptr,#_poll_requested
      000780 E0               [24] 1540 	movx	a,@dptr
      000781 7C 00            [12] 1541 	mov	r4,#0x00
      000783 2F               [12] 1542 	add	a,r7
      000784 FF               [12] 1543 	mov	r7,a
      000785 EC               [12] 1544 	mov	a,r4
      000786 3E               [12] 1545 	addc	a,r6
                                   1546 ;	../../core/sys/process.c:313: }
      000787 8F 82            [24] 1547 	mov	dpl,r7
      000789 F5 83            [12] 1548 	mov	dph,a
      00078B 22               [24] 1549 	ret
                                   1550 ;------------------------------------------------------------
                                   1551 ;Allocation info for local variables in function 'process_nevents'
                                   1552 ;------------------------------------------------------------
                                   1553 ;	../../core/sys/process.c:316: process_nevents(void)
                                   1554 ;	-----------------------------------------
                                   1555 ;	 function process_nevents
                                   1556 ;	-----------------------------------------
      00078C                       1557 _process_nevents:
                                   1558 ;	../../core/sys/process.c:318: return nevents + poll_requested;
      00078C 90r00r01         [24] 1559 	mov	dptr,#_nevents
      00078F E0               [24] 1560 	movx	a,@dptr
      000790 FF               [12] 1561 	mov	r7,a
      000791 7E 00            [12] 1562 	mov	r6,#0x00
      000793 90r00rE3         [24] 1563 	mov	dptr,#_poll_requested
      000796 E0               [24] 1564 	movx	a,@dptr
      000797 7C 00            [12] 1565 	mov	r4,#0x00
      000799 2F               [12] 1566 	add	a,r7
      00079A FF               [12] 1567 	mov	r7,a
      00079B EC               [12] 1568 	mov	a,r4
      00079C 3E               [12] 1569 	addc	a,r6
                                   1570 ;	../../core/sys/process.c:319: }
      00079D 8F 82            [24] 1571 	mov	dpl,r7
      00079F F5 83            [12] 1572 	mov	dph,a
      0007A1 22               [24] 1573 	ret
                                   1574 ;------------------------------------------------------------
                                   1575 ;Allocation info for local variables in function 'process_post'
                                   1576 ;------------------------------------------------------------
                                   1577 ;ev                        Allocated to stack - sp -2
                                   1578 ;data                      Allocated to stack - sp -5
                                   1579 ;p                         Allocated to registers r5 r6 r7 
                                   1580 ;snum                      Allocated with name '_process_post_snum_65536_108'
                                   1581 ;------------------------------------------------------------
                                   1582 ;	../../core/sys/process.c:322: process_post(struct process *p, process_event_t ev, process_data_t data)
                                   1583 ;	-----------------------------------------
                                   1584 ;	 function process_post
                                   1585 ;	-----------------------------------------
      0007A2                       1586 _process_post:
      0007A2 AD 82            [24] 1587 	mov	r5,dpl
      0007A4 AE 83            [24] 1588 	mov	r6,dph
      0007A6 AF F0            [24] 1589 	mov	r7,b
                                   1590 ;	../../core/sys/process.c:335: if(nevents == PROCESS_CONF_NUMEVENTS) {
      0007A8 90r00r01         [24] 1591 	mov	dptr,#_nevents
      0007AB E0               [24] 1592 	movx	a,@dptr
      0007AC FC               [12] 1593 	mov	r4,a
      0007AD BC 20 04         [24] 1594 	cjne	r4,#0x20,00102$
                                   1595 ;	../../core/sys/process.c:343: return PROCESS_ERR_FULL;
      0007B0 90 00 01         [24] 1596 	mov	dptr,#0x0001
      0007B3 22               [24] 1597 	ret
      0007B4                       1598 00102$:
                                   1599 ;	../../core/sys/process.c:346: snum = (process_num_events_t)(fevent + nevents) % PROCESS_CONF_NUMEVENTS;
      0007B4 90r00r02         [24] 1600 	mov	dptr,#_fevent
      0007B7 E0               [24] 1601 	movx	a,@dptr
      0007B8 2C               [12] 1602 	add	a,r4
      0007B9 FC               [12] 1603 	mov	r4,a
      0007BA 53 04 1F         [24] 1604 	anl	ar4,#0x1f
      0007BD 90r00rEE         [24] 1605 	mov	dptr,#_process_post_snum_65536_108
      0007C0 EC               [12] 1606 	mov	a,r4
      0007C1 F0               [24] 1607 	movx	@dptr,a
                                   1608 ;	../../core/sys/process.c:347: events[snum].ev = ev;
      0007C2 EC               [12] 1609 	mov	a,r4
      0007C3 75 F0 07         [24] 1610 	mov	b,#0x07
      0007C6 A4               [48] 1611 	mul	ab
      0007C7 24r03            [12] 1612 	add	a,#_events
      0007C9 F5 82            [12] 1613 	mov	dpl,a
      0007CB 74s00            [12] 1614 	mov	a,#(_events >> 8)
      0007CD 35 F0            [12] 1615 	addc	a,b
      0007CF F5 83            [12] 1616 	mov	dph,a
      0007D1 A8 81            [24] 1617 	mov	r0,sp
      0007D3 18               [12] 1618 	dec	r0
      0007D4 18               [12] 1619 	dec	r0
      0007D5 E6               [12] 1620 	mov	a,@r0
      0007D6 F0               [24] 1621 	movx	@dptr,a
                                   1622 ;	../../core/sys/process.c:348: events[snum].data = data;
      0007D7 90r00rEE         [24] 1623 	mov	dptr,#_process_post_snum_65536_108
      0007DA E0               [24] 1624 	movx	a,@dptr
      0007DB 75 F0 07         [24] 1625 	mov	b,#0x07
      0007DE A4               [48] 1626 	mul	ab
      0007DF 24r03            [12] 1627 	add	a,#_events
      0007E1 FB               [12] 1628 	mov	r3,a
      0007E2 74s00            [12] 1629 	mov	a,#(_events >> 8)
      0007E4 35 F0            [12] 1630 	addc	a,b
      0007E6 FC               [12] 1631 	mov	r4,a
      0007E7 8B 82            [24] 1632 	mov	dpl,r3
      0007E9 8C 83            [24] 1633 	mov	dph,r4
      0007EB A3               [24] 1634 	inc	dptr
      0007EC E5 81            [12] 1635 	mov	a,sp
      0007EE 24 FB            [12] 1636 	add	a,#0xfb
      0007F0 F8               [12] 1637 	mov	r0,a
      0007F1 E6               [12] 1638 	mov	a,@r0
      0007F2 F0               [24] 1639 	movx	@dptr,a
      0007F3 08               [12] 1640 	inc	r0
      0007F4 E6               [12] 1641 	mov	a,@r0
      0007F5 A3               [24] 1642 	inc	dptr
      0007F6 F0               [24] 1643 	movx	@dptr,a
      0007F7 08               [12] 1644 	inc	r0
      0007F8 E6               [12] 1645 	mov	a,@r0
      0007F9 A3               [24] 1646 	inc	dptr
      0007FA F0               [24] 1647 	movx	@dptr,a
                                   1648 ;	../../core/sys/process.c:349: events[snum].p = p;
      0007FB 90r00rEE         [24] 1649 	mov	dptr,#_process_post_snum_65536_108
      0007FE E0               [24] 1650 	movx	a,@dptr
      0007FF 75 F0 07         [24] 1651 	mov	b,#0x07
      000802 A4               [48] 1652 	mul	ab
      000803 24r03            [12] 1653 	add	a,#_events
      000805 FB               [12] 1654 	mov	r3,a
      000806 74s00            [12] 1655 	mov	a,#(_events >> 8)
      000808 35 F0            [12] 1656 	addc	a,b
      00080A FC               [12] 1657 	mov	r4,a
      00080B 8B 82            [24] 1658 	mov	dpl,r3
      00080D 8C 83            [24] 1659 	mov	dph,r4
      00080F A3               [24] 1660 	inc	dptr
      000810 A3               [24] 1661 	inc	dptr
      000811 A3               [24] 1662 	inc	dptr
      000812 A3               [24] 1663 	inc	dptr
      000813 ED               [12] 1664 	mov	a,r5
      000814 F0               [24] 1665 	movx	@dptr,a
      000815 EE               [12] 1666 	mov	a,r6
      000816 A3               [24] 1667 	inc	dptr
      000817 F0               [24] 1668 	movx	@dptr,a
      000818 EF               [12] 1669 	mov	a,r7
      000819 A3               [24] 1670 	inc	dptr
      00081A F0               [24] 1671 	movx	@dptr,a
                                   1672 ;	../../core/sys/process.c:350: ++nevents;
      00081B 90r00r01         [24] 1673 	mov	dptr,#_nevents
      00081E E0               [24] 1674 	movx	a,@dptr
      00081F 24 01            [12] 1675 	add	a,#0x01
      000821 F0               [24] 1676 	movx	@dptr,a
                                   1677 ;	../../core/sys/process.c:358: return PROCESS_ERR_OK;
      000822 90 00 00         [24] 1678 	mov	dptr,#0x0000
                                   1679 ;	../../core/sys/process.c:359: }
      000825 22               [24] 1680 	ret
                                   1681 ;------------------------------------------------------------
                                   1682 ;Allocation info for local variables in function 'process_post_synch'
                                   1683 ;------------------------------------------------------------
                                   1684 ;ev                        Allocated to stack - sp -2
                                   1685 ;data                      Allocated to stack - sp -5
                                   1686 ;p                         Allocated to registers r5 r6 r7 
                                   1687 ;caller                    Allocated to registers r2 r3 r4 
                                   1688 ;------------------------------------------------------------
                                   1689 ;	../../core/sys/process.c:362: process_post_synch(struct process *p, process_event_t ev, process_data_t data)
                                   1690 ;	-----------------------------------------
                                   1691 ;	 function process_post_synch
                                   1692 ;	-----------------------------------------
      000826                       1693 _process_post_synch:
      000826 AD 82            [24] 1694 	mov	r5,dpl
      000828 AE 83            [24] 1695 	mov	r6,dph
      00082A AF F0            [24] 1696 	mov	r7,b
                                   1697 ;	../../core/sys/process.c:364: struct process *caller = process_current;
      00082C 90r00r03         [24] 1698 	mov	dptr,#_process_current
      00082F E0               [24] 1699 	movx	a,@dptr
      000830 FA               [12] 1700 	mov	r2,a
      000831 A3               [24] 1701 	inc	dptr
      000832 E0               [24] 1702 	movx	a,@dptr
      000833 FB               [12] 1703 	mov	r3,a
      000834 A3               [24] 1704 	inc	dptr
      000835 E0               [24] 1705 	movx	a,@dptr
      000836 FC               [12] 1706 	mov	r4,a
                                   1707 ;	../../core/sys/process.c:366: call_process(p, ev, data);
      000837 C0 04            [24] 1708 	push	ar4
      000839 C0 03            [24] 1709 	push	ar3
      00083B C0 02            [24] 1710 	push	ar2
      00083D E5 81            [12] 1711 	mov	a,sp
      00083F 24 F8            [12] 1712 	add	a,#0xf8
      000841 F8               [12] 1713 	mov	r0,a
      000842 E6               [12] 1714 	mov	a,@r0
      000843 C0 E0            [24] 1715 	push	acc
      000845 08               [12] 1716 	inc	r0
      000846 E6               [12] 1717 	mov	a,@r0
      000847 C0 E0            [24] 1718 	push	acc
      000849 08               [12] 1719 	inc	r0
      00084A E6               [12] 1720 	mov	a,@r0
      00084B C0 E0            [24] 1721 	push	acc
      00084D E5 81            [12] 1722 	mov	a,sp
      00084F 24 F8            [12] 1723 	add	a,#0xf8
      000851 F8               [12] 1724 	mov	r0,a
      000852 E6               [12] 1725 	mov	a,@r0
      000853 C0 E0            [24] 1726 	push	acc
      000855 8D 82            [24] 1727 	mov	dpl,r5
      000857 8E 83            [24] 1728 	mov	dph,r6
      000859 8F F0            [24] 1729 	mov	b,r7
      00085B 12r03rD7         [24] 1730 	lcall	_call_process
      00085E E5 81            [12] 1731 	mov	a,sp
      000860 24 FC            [12] 1732 	add	a,#0xfc
      000862 F5 81            [12] 1733 	mov	sp,a
      000864 D0 02            [24] 1734 	pop	ar2
      000866 D0 03            [24] 1735 	pop	ar3
      000868 D0 04            [24] 1736 	pop	ar4
                                   1737 ;	../../core/sys/process.c:367: process_current = caller;
      00086A 90r00r03         [24] 1738 	mov	dptr,#_process_current
      00086D EA               [12] 1739 	mov	a,r2
      00086E F0               [24] 1740 	movx	@dptr,a
      00086F EB               [12] 1741 	mov	a,r3
      000870 A3               [24] 1742 	inc	dptr
      000871 F0               [24] 1743 	movx	@dptr,a
      000872 EC               [12] 1744 	mov	a,r4
      000873 A3               [24] 1745 	inc	dptr
      000874 F0               [24] 1746 	movx	@dptr,a
                                   1747 ;	../../core/sys/process.c:368: }
      000875 22               [24] 1748 	ret
                                   1749 ;------------------------------------------------------------
                                   1750 ;Allocation info for local variables in function 'process_poll'
                                   1751 ;------------------------------------------------------------
                                   1752 ;p                         Allocated to registers r5 r6 r7 
                                   1753 ;------------------------------------------------------------
                                   1754 ;	../../core/sys/process.c:371: process_poll(struct process *p)
                                   1755 ;	-----------------------------------------
                                   1756 ;	 function process_poll
                                   1757 ;	-----------------------------------------
      000876                       1758 _process_poll:
      000876 AD 82            [24] 1759 	mov	r5,dpl
      000878 AE 83            [24] 1760 	mov	r6,dph
      00087A AF F0            [24] 1761 	mov	r7,b
                                   1762 ;	../../core/sys/process.c:373: if(p != NULL) {
      00087C ED               [12] 1763 	mov	a,r5
      00087D 4E               [12] 1764 	orl	a,r6
      00087E 60 31            [24] 1765 	jz	00106$
                                   1766 ;	../../core/sys/process.c:374: if(p->state == PROCESS_STATE_RUNNING ||
      000880 74 07            [12] 1767 	mov	a,#0x07
      000882 2D               [12] 1768 	add	a,r5
      000883 FA               [12] 1769 	mov	r2,a
      000884 E4               [12] 1770 	clr	a
      000885 3E               [12] 1771 	addc	a,r6
      000886 FB               [12] 1772 	mov	r3,a
      000887 8F 04            [24] 1773 	mov	ar4,r7
      000889 8A 82            [24] 1774 	mov	dpl,r2
      00088B 8B 83            [24] 1775 	mov	dph,r3
      00088D 8C F0            [24] 1776 	mov	b,r4
      00088F 12r00r00         [24] 1777 	lcall	__gptrget
      000892 FC               [12] 1778 	mov	r4,a
      000893 BC 01 02         [24] 1779 	cjne	r4,#0x01,00117$
      000896 80 03            [24] 1780 	sjmp	00101$
      000898                       1781 00117$:
                                   1782 ;	../../core/sys/process.c:375: p->state == PROCESS_STATE_CALLED) {
      000898 BC 02 16         [24] 1783 	cjne	r4,#0x02,00106$
      00089B                       1784 00101$:
                                   1785 ;	../../core/sys/process.c:376: p->needspoll = 1;
      00089B 74 08            [12] 1786 	mov	a,#0x08
      00089D 2D               [12] 1787 	add	a,r5
      00089E FD               [12] 1788 	mov	r5,a
      00089F E4               [12] 1789 	clr	a
      0008A0 3E               [12] 1790 	addc	a,r6
      0008A1 FE               [12] 1791 	mov	r6,a
      0008A2 8D 82            [24] 1792 	mov	dpl,r5
      0008A4 8E 83            [24] 1793 	mov	dph,r6
      0008A6 8F F0            [24] 1794 	mov	b,r7
      0008A8 74 01            [12] 1795 	mov	a,#0x01
      0008AA 12r00r00         [24] 1796 	lcall	__gptrput
                                   1797 ;	../../core/sys/process.c:377: poll_requested = 1;
      0008AD 90r00rE3         [24] 1798 	mov	dptr,#_poll_requested
      0008B0 F0               [24] 1799 	movx	@dptr,a
      0008B1                       1800 00106$:
                                   1801 ;	../../core/sys/process.c:380: }
      0008B1 22               [24] 1802 	ret
                                   1803 ;------------------------------------------------------------
                                   1804 ;Allocation info for local variables in function 'process_is_running'
                                   1805 ;------------------------------------------------------------
                                   1806 ;p                         Allocated to registers r5 r6 r7 
                                   1807 ;------------------------------------------------------------
                                   1808 ;	../../core/sys/process.c:383: process_is_running(struct process *p)
                                   1809 ;	-----------------------------------------
                                   1810 ;	 function process_is_running
                                   1811 ;	-----------------------------------------
      0008B2                       1812 _process_is_running:
      0008B2 AD 82            [24] 1813 	mov	r5,dpl
      0008B4 AE 83            [24] 1814 	mov	r6,dph
      0008B6 AF F0            [24] 1815 	mov	r7,b
                                   1816 ;	../../core/sys/process.c:385: return p->state != PROCESS_STATE_NONE;
      0008B8 74 07            [12] 1817 	mov	a,#0x07
      0008BA 2D               [12] 1818 	add	a,r5
      0008BB FD               [12] 1819 	mov	r5,a
      0008BC E4               [12] 1820 	clr	a
      0008BD 3E               [12] 1821 	addc	a,r6
      0008BE FE               [12] 1822 	mov	r6,a
      0008BF 8D 82            [24] 1823 	mov	dpl,r5
      0008C1 8E 83            [24] 1824 	mov	dph,r6
      0008C3 8F F0            [24] 1825 	mov	b,r7
      0008C5 12r00r00         [24] 1826 	lcall	__gptrget
      0008C8 B4 01 00         [24] 1827 	cjne	a,#0x01,00103$
      0008CB                       1828 00103$:
      0008CB B3               [12] 1829 	cpl	c
      0008CC 92*00            [24] 1830 	mov	b0,c
      0008CE E4               [12] 1831 	clr	a
      0008CF 33               [12] 1832 	rlc	a
      0008D0 FE               [12] 1833 	mov	r6,a
      0008D1 7F 00            [12] 1834 	mov	r7,#0x00
      0008D3 8E 82            [24] 1835 	mov	dpl,r6
      0008D5 8F 83            [24] 1836 	mov	dph,r7
                                   1837 ;	../../core/sys/process.c:386: }
      0008D7 22               [24] 1838 	ret
                                   1839 	.area CSEG    (CODE)
                                   1840 	.area CONST   (CODE)
                                   1841 	.area XINIT   (CODE)
      000000                       1842 __xinit__process_list:
                                   1843 ; generic printIvalPtr
      000000 00 00 00              1844 	.byte #0x00,#0x00,#0x00
      000003                       1845 __xinit__process_current:
                                   1846 ; generic printIvalPtr
      000003 00 00 00              1847 	.byte #0x00,#0x00,#0x00
                                   1848 	.area CABS    (ABS,CODE)
